<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Косолапов Дмитрий: мысли умные и не только.</title><link>http://dicos.ru/</link><description></description><lastBuildDate>Mon, 23 Jan 2017 15:15:00 +0700</lastBuildDate><item><title>Мультидоменные сессии для джанго</title><link>http://dicos.ru/django-multidoamin-sessions.html</link><description>&lt;div class="section" id="id2"&gt;
&lt;h2&gt;1. Для чего нужно и в чем проблема&lt;/h2&gt;
&lt;p&gt;Допустим, у нас есть интернет-магазин shop.ru. Начальство решает купить домен shop.com для выхода на международный рынок.
В интернет-магазине есть регистрация, вход по логину-паролю. Есть много ссылок на страницы shop.ru. Допустим, посетитель
зарегистрировался на shop.com, положил товар в корзину, потом как-то перешел на страницу shop.ru. Его корзина будет пуста
и этому человеку заново нужно будет вводить логин и пароль. В идеале нужно, чтобы независимо с какого сайта на какой
перешел посетитель, нужно, чтобы содержимое корзины и данные автоизации сохранились.&lt;/p&gt;
&lt;p&gt;Проблема в том, что такая информация как авторизирован человек на сайте или нет, какие товары он положил в корзину
хранятся в сессии. А сессия работает на файлах cookie, которые из-за политики безопасности веб-браузеров жестко привязаны
к домену. То есть файл cookie для домена shop.ru можно получить для субдомена product.shop.ru, но нельзя для shop.com.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2&gt;2. Существующие решения&lt;/h2&gt;
&lt;p&gt;# &lt;a class="reference external" href="https://github.com/dicos/django-xsession"&gt;django-xsession&lt;/a&gt;
# &lt;a class="reference external" href="https://github.com/dicos/django-shared-session"&gt;django-shared-session&lt;/a&gt;&lt;/p&gt;
&lt;div class="section" id="django-xsession"&gt;
&lt;h3&gt;django-xsession&lt;/h3&gt;
&lt;p&gt;Принцип этой библиотеки построен на том, что если на текущем сайте пользователь не авторизирован, а на другом
авторизирован, то с другого сайта загружается javascript код, который создает файл cookie-сессию с таким же
идентификатором, как на авторизированном сайте.&lt;/p&gt;
&lt;p&gt;Из достоинства хочу отметить простоту самого модуля. Недостаток: могут быть &amp;quot;вечные&amp;quot; перезагрузки если сессия была
как-то установлена на обоих сайтах.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="django-shared-session"&gt;
&lt;h3&gt;django-shared-session&lt;/h3&gt;
&lt;p&gt;Эта библиотека работает по обратному принципу: на сайте, где авторизовался пользователь загружается javascript с других
сайтов. При этом в get запросе передается шифрованная информация о текущей сессии. Эта шифрованная информация
расшифровывается на серверах других сайтов, и для этих сайтов устанавливается сессия.&lt;/p&gt;
&lt;p&gt;Приятная библиотека. Работает стабильно.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 23 Jan 2017 15:15:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2017-01-23:django-multidoamin-sessions.html</guid></item><item><title>Блог снова начал работать</title><link>http://dicos.ru/new-blog.html</link><description>&lt;p&gt;К сожалению, последняя запись в блоге датируется месяцем маем, 2014 годом. Причины:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;загруженность на работах: их количество варьировалось от 2 до 3-х;&lt;/li&gt;
&lt;li&gt;переезд, связанный с приобритением квартиры, а также ремонт в ней.&lt;/li&gt;
&lt;li&gt;просто было не очем, слишком пресная была профессиональная жизнь.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Сейчас мне появилось о чем написать, буду в свободное время писать что и как. Мыслей умных много, снова возомнил себя великим писателем
Со списком тем можно ознакомиться на странице &lt;a class="reference external" href="https://bitbucket.org/dicos/dicos.ru/issues?status=new&amp;amp;status=open"&gt;предложений&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Коротко об изменениях в блоге:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Технологическая начинка;&lt;/li&gt;
&lt;li&gt;Сменился дизайн;&lt;/li&gt;
&lt;li&gt;Хостинг.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;1. Технологическая начинка&lt;/h2&gt;
&lt;p&gt;Раньше блог работал на платформе вордпресс. Отличная платформа для создания блогов. Много &amp;quot;вкусных плюшек&amp;quot;, но лично для
меня самый главный недостаток -- надо постоянно его обновлять. Такое ощущение, что разработчики делают релизы по принципу:
&amp;quot;В плане быстродействия ни чего не сделано. Было исправлено много ошибок, допущенных в прошлой версии. Ошибки в текущей версии
будут исправлены в следующей версии.&amp;quot;. Я понимаю, что там очень много кода, но всему есть предел.&lt;/p&gt;
&lt;p&gt;В последнее время стойко закралась мысль, что чем меньше кода, тем лучше. Поэтому я начал смотреть в сторону генератора статичных страниц.
Лично все не тестировал, ибо ленивый. Поэтому выбирал по статьям, написанных в интернете, отзывам и функционал. Кроме того,
генератор желательно, чтобы был написан на питоне, ибо этот язык программирования я знаю и если что -- смогу разобраться.
Для меня подошел генератор &lt;a class="reference external" href="https://pypi.python.org/pypi/pelican/"&gt;pelican&lt;/a&gt; ибо умеет делать импорт из вордпресса для переноса старых страниц.&lt;/p&gt;
&lt;p&gt;Импорт прошел хорошо, но кое-что пришлось поправить форматирование. Для тогого, чтобы ускорить загрузку страниц все изображения
перенес на сервис &amp;quot;яндекс.фотки&amp;quot;. И все.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2&gt;2. О дизайне&lt;/h2&gt;
&lt;p&gt;Дизайн взял готовый, его русифицировал и кое-что поправил для конкретно моего блога. Дизайн можно взять прямо со страницы
&lt;a class="reference external" href="https://github.com/dicos/nice-blog"&gt;гитхаба&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;3. Хостинг&lt;/h2&gt;
&lt;p&gt;Наверное, самое интересное. Я человек жадный, просто так отдавать 1000 рублей за платный хостинг очень не хочется. При этом
хочу сохранить управление доменом и не привязывать домен к каким-то сторонним DNS серверам. По этой причине большинство
бесплатных хостингов не подошли. Внимание привлек &lt;a class="reference external" href="https://www.000webhost.com/"&gt;https://www.000webhost.com/&lt;/a&gt; за счет того, что не надо делигировать домен
на другой DNS сервер. Но у этого хостера какой-то глючный ftp сервер. Мысль о загрузке всех файлов через веб-панель вводит меня в уныние.
Но не все так плохо: 2 популярных ресурса хранения исходного кода github.com и bitbucket.org предлагают бесплатный хостинг html файлов.
Собственно, большего ни чего мне не надо :-) Битбаткет не разрешает привязку своего домена. Поэтому, остался всего 1 -- гитхаб.
Как настроить хостинг писать не буду, много кто уже это описано. Если будут сложности -- пишите на &lt;a class="reference external" href="mailto:self&amp;#64;dicos.ru"&gt;self&amp;#64;dicos.ru&lt;/a&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Исходный код: &lt;a class="reference external" href="https://bitbucket.org/dicos/dicos.ru"&gt;https://bitbucket.org/dicos/dicos.ru&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Дизай блога: &lt;a class="reference external" href="https://github.com/dicos/nice-blog"&gt;https://github.com/dicos/nice-blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 25 Sep 2016 21:40:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2016-09-25:new-blog.html</guid></item><item><title>Еще один проект по торговле акциями и фьючерсами</title><link>http://dicos.ru/new-project.html</link><description>&lt;p&gt;Сегодня опубликовал
&lt;a class="reference external" href="https://bitbucket.org/dicos/moving-average"&gt;проект&lt;/a&gt;, над которым
работал прошлый год. Он должен был меня озолотить, но не получилось. А
так как не получилось, то пусть поваляется в общем доступе (на тебе боже
что мне не гоже), ибо наработки, на мой взгляд достаточно хорошие:
скомпилирована dll-ка, которую запускает виндосовское приложение,
которое работает из-под Wine; пример сборки библиотеки для тех. анализа
TA-Lib, пример торговли в терминале MetaTrader 5.&lt;/p&gt;
&lt;p&gt;Сейчас начал осваивать японские свечи. Если и с ними не получится --
выложу в открытый доступ, не работающее мне не жалко.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 19 May 2014 11:32:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2014-05-19:new-project.html</guid></item><item><title>dll для MetaTrader 5 в linux</title><link>http://dicos.ru/dll-for-metatrader-5-linux.html</link><description>&lt;p&gt;Уже как месяц изучаю платформу для торговли ценными бумагами MetaTrader
5. В планах у меня стоит написать до лета торговую систему, которая
будет торговать, торговать, торговать и к Новому Году я стану
миллионером. :-)&lt;/p&gt;
&lt;p&gt;Отвлекся. Тут я хотел рассказать о первой проблеме, с которой столкнулся
в процессе разработки. Нужно было подключить к скрипту Metatrader-а свою
dll-ку, написанную на C.На момент битвы над ошибкой использовал&amp;nbsp;Xubuntu
13.10 (32 bit), Wine 1.6.1 и MetaTrader 5 (build 910). Для компиляции
dll файлов использовал кроссплатформенный компилятор mingw и mingw-w64&lt;/p&gt;
&lt;p&gt;Как ошибку воспроизвести:&lt;/p&gt;
&lt;p&gt;Код самой dll-ки (simple.cpp):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
extern &amp;quot;C&amp;quot; {
    int qwe() {
        return 1;
    }
}
&lt;/pre&gt;
&lt;p&gt;Компилируем командой&amp;nbsp;i686-w64-mingw32-g++ -shared -o out.dll simple.cpp&lt;/p&gt;
&lt;p&gt;В MetaEditor, Вставляем код, приведенный ниже. Этот программный код
должен вызывать функцию qwe из &amp;nbsp;dll файла:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
#import &amp;quot;out.dll&amp;quot;
int qwe();
#import
void OnStart()
  {

   Print(qwe());
  }
&lt;/pre&gt;
&lt;p&gt;запускаем &amp;nbsp;этот код, видим, что Metatrader показывает окно, в котором
нужно подтвердить запуск dll файлов.
&lt;a class="reference external" href="//img-fotki.yandex.ru/get/107473/44073636.2/0_132e48_8a0c988d_orig"&gt;&lt;img alt="076" src="//img-fotki.yandex.ru/get/151498/44073636.2/0_132e49_a71be633_orig" style="width: 300px; height: 147px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Подтверждаем. После подтверждения видим, в фрейме
&amp;quot;инструменты&amp;quot;-&amp;gt;&amp;quot;эксперты&amp;quot; надпись
2014.04.22 16:41:57.190 simple (Si-6.14,H1) Cannot load 'C:\Program
Files\ОТКРЫТИЕ-Брокер\MQL5\Projects\out.dll'
&lt;a class="reference external" href="//img-fotki.yandex.ru/get/41468/44073636.2/0_132e4a_e290f75b_orig"&gt;&lt;img alt="077" src="//img-fotki.yandex.ru/get/41468/44073636.2/0_132e4a_e290f75b_orig" style="width: 300px; height: 84px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;В ходе экспериментов обнаружил, что если установить не&amp;nbsp;mingw-w64-i686 а
более старый mingw, то скомпилированный файл метатрейдер без проблем
подключает:&lt;/p&gt;
&lt;p&gt;Компилируем:&amp;nbsp;i586-mingw32msvc-g++ -mrtd -shared -o out.dll simple.cpp&lt;/p&gt;
&lt;p&gt;Запускаем в MetaEditor код, нажав на кнопку клавиатуры F5. Metatrader
&amp;quot;спрашивает&amp;quot; можно или нет подключить dll файл:
&lt;a class="reference external" href="//img-fotki.yandex.ru/get/107473/44073636.2/0_132e48_8a0c988d_orig"&gt;&lt;img alt="075" src="//img-fotki.yandex.ru/get/107473/44073636.2/0_132e48_8a0c988d_orig" style="width: 300px; height: 148px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Подтверждаем. После подтверждения&amp;nbsp;&amp;nbsp;в фрейме &amp;quot;инструменты&amp;quot;-&amp;gt;&amp;quot;эксперты&amp;quot;
единичку. То есть dll-ка заработала.
&lt;a class="reference external" href="//img-fotki.yandex.ru/get/60537/44073636.2/0_132e4b_f910b026_orig"&gt;&lt;img alt="078" src="//img-fotki.yandex.ru/get/60537/44073636.2/0_132e4b_f910b026_orig" style="width: 300px; height: 96px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Если внимательно приглядеться, то можно увидеть, что если компилируем
при помощи&amp;nbsp;i686-w64-mingw32-g++, то Metatrader пытается загрузить
какую-то библиотеку&amp;nbsp;libgcc_s_sjlj-1.dll, а
компилятор&amp;nbsp;i586-mingw32msvc-g++ как-то обходится без нее.&lt;/p&gt;
&lt;p&gt;Решение проблемы нашел в интернете: нужно к компилятору добавить
параметр&amp;nbsp;-static-libgcc. Другими словами, компилировать dll файл нужно
так:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
i686-w64-mingw32-g++ -static-libgcc -shared -o out.dll simple.cpp
&lt;/pre&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 22 Apr 2014 17:02:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2014-04-22:dll-for-metatrader-5-linux.html</guid><category>C</category><category>metatrader</category><category>wine</category></item><item><title>AttributeError: 'module' object has no attribute 'Migration'</title><link>http://dicos.ru/attributeerror-module-object-has-no-attribute-migration.html</link><description>&lt;p&gt;В проекте, над которым сейчас работаю, используется south -- стороннее
&amp;nbsp;приложение для фреймворка джанго. Суть в следующем: в джанге есть
библиотека для работы с базами данных. Работа с базой данных
осуществляется через специальные классы-модели, которые пишет сам
программист, исходя из структуры базы данных.&lt;/p&gt;
&lt;p&gt;Периодически, базу данных необходимо изменять, например добавить пару
полей в таблицу. Обычно, эта работа происходит так: добавляются в
модель-таблицу новые &amp;quot;поля&amp;quot; (возможно, корректнее всего назвать
атрибутами класса). Затем, выполняем в терминале команду вычислить
изменения между тем, что было и тем, что стало. В этот момент создаются
файлы изменений. Потом выполняется команда применить эти изменения в
базе данных.&lt;/p&gt;
&lt;p&gt;Вчера, во время применения изменений появилась такая ошибка:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Traceback (most recent call last):&lt;/div&gt;
&lt;div class="line"&gt;File &amp;quot;./manage.py&amp;quot;, line 15, in &amp;lt;module&amp;gt;&lt;/div&gt;
&lt;div class="line"&gt;execute_manager(settings)&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepath/local/lib/python2.7/site-packages/django/core/management/__init__.py&amp;quot;,
line 438, in execute_manager&lt;/div&gt;
&lt;div class="line"&gt;utility.execute()&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepath/local/lib/python2.7/site-packages/django/core/management/__init__.py&amp;quot;,
line 379, in execute&lt;/div&gt;
&lt;div class="line"&gt;self.fetch_command(subcommand).run_from_argv(self.argv)&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepath/local/lib/python2.7/site-packages/django/core/management/base.py&amp;quot;,
line 191, in run_from_argv&lt;/div&gt;
&lt;div class="line"&gt;self.execute(*args, **options.__dict__)&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepath/local/lib/python2.7/site-packages/django/core/management/base.py&amp;quot;,
line 220, in execute&lt;/div&gt;
&lt;div class="line"&gt;output = self.handle(*args, **options)&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepathe/local/lib/python2.7/site-packages/south/management/commands/migrate.py&amp;quot;,
line 107, in handle&lt;/div&gt;
&lt;div class="line"&gt;ignore_ghosts = ignore_ghosts,&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepath/local/lib/python2.7/site-packages/south/migration/__init__.py&amp;quot;,
line 166, in migrate_app&lt;/div&gt;
&lt;div class="line"&gt;Migrations.calculate_dependencies()&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepath/local/lib/python2.7/site-packages/south/migration/base.py&amp;quot;,
line 227, in calculate_dependencies&lt;/div&gt;
&lt;div class="line"&gt;migration.calculate_dependencies()&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepath/local/lib/python2.7/site-packages/south/migration/base.py&amp;quot;,
line 358, in calculate_dependencies&lt;/div&gt;
&lt;div class="line"&gt;for migration in self._get_dependency_objects(&amp;quot;depends_on&amp;quot;):&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepath/local/lib/python2.7/site-packages/south/migration/base.py&amp;quot;,
line 338, in _get_dependency_objects&lt;/div&gt;
&lt;div class="line"&gt;for app, name in getattr(self.migration_class(), attrname, []):&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/somepath/local/lib/python2.7/site-packages/south/migration/base.py&amp;quot;,
line 310, in migration_class&lt;/div&gt;
&lt;div class="line"&gt;return self.migration().Migration&lt;/div&gt;
&lt;div class="line"&gt;AttributeError: 'module' object has no attribute 'Migration'&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Эта ошибка ни как не связана с версией south, делал откат с версии 0.7.6
до 0.7.4. Ошибка появлялась из-за того, что в нескольких приложениях
сайта, файлы миграций были пустые. Пришлось просто удалить пустые файлы
и заново инициализировать миграции. После этого, мое изменение в базе
данных прошло успешно.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sat, 12 Jan 2013 14:11:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2013-01-12:attributeerror-module-object-has-no-attribute-migration.html</guid></item><item><title>Включить scroll lock при переключении раскладки</title><link>http://dicos.ru/enable-scroll-lock.html</link><description>&lt;p&gt;Собственно, через настройку системы клавиатура -&amp;gt;
параметры-&amp;gt;использовать клавиатурные индикаторы для отображения
дополнительных раскладок&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="//img-fotki.yandex.ru/get/142729/44073636.2/0_132e47_2736ceac_orig"&gt;&lt;img alt="image" src="//img-fotki.yandex.ru/get/142729/44073636.2/0_132e47_2736ceac_L.png" style="width: 500px; height: 500px;" /&gt;&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 14 Nov 2012 08:40:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2012-11-14:enable-scroll-lock.html</guid></item><item><title>Список портов TCP/UDP</title><link>http://dicos.ru/list-of-ports-tcpudp.html</link><description>&lt;p&gt;Часто, при анализе сетевой активности приходится разбираться что за
трафик и кто его создает. С вероятностью 80% &amp;quot;генератор&amp;quot;&amp;nbsp;трафика можно
определить по порту. Часто приходилось лезть в интернет и просматривать
кучу форумов, чтобы определить кто и что решило пол-интернета скачать.
Писатели википедии постарались и выложили готовый &lt;a class="reference external" href="http://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BF%D0%BE%D1%80%D1%82%D0%BE%D0%B2_TCP_%D0%B8_UDP"&gt;список
портов&lt;/a&gt;
с описанием.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sat, 25 Aug 2012 12:11:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2012-08-25:list-of-ports-tcpudp.html</guid></item><item><title>К PEP 8!</title><link>http://dicos.ru/go-to-pep-8.html</link><description>&lt;p&gt;&lt;a class="reference external" href="http://www.python.org/dev/peps/pep-0008/"&gt;PEP 8&lt;/a&gt; это стандарт
форматирования кода языка питон.&lt;/p&gt;
&lt;p&gt;Придерживаться его желательно, так как во многих случаях код становится
более понятным (и более простым!). Так сложилось, что сам (каюсь-каюсь)
придерживался больше своего, внутреннего стандарта. Но случилось
непоправимое. Появилось требование к проекту, что программный код должен
строго соответствовать стандарту PEP 8.&lt;/p&gt;
&lt;p&gt;Так как мой редактор gEdit не умеет&amp;nbsp;подсвечивать&amp;nbsp;ошибки в
форматировании, пришлось искать какой-то сторонний модуль. И такой
модуль есть: &lt;a class="reference external" href="http://pypi.python.org/pypi/pep8/"&gt;pep8&lt;/a&gt;. Работаю с ним
так: в&amp;nbsp;консоли&amp;nbsp;пишем pep8 &amp;lt;имя_файла&amp;gt;. На экране видим все ошибки. Но
можно посмотреть ошибки во всех файлах, написав pep8 *.py. Тогда будут
видны все ошибки в файлах, что находятся в текущем каталоге.&lt;/p&gt;
&lt;p&gt;Руками удалять лишние пробелы да запятые трудоемко. Поэтому можно
воспользоваться автоматическим форматированием. Такую возможность
предоставляет модуль
&lt;a class="reference external" href="http://pypi.python.org/pypi/autopep8/"&gt;autopep08&lt;/a&gt;. Работает отлично.
Не умеет только обрабатывать ошибки в длине строки (длина строки должна
быть 79 символов.) Я работал так:&amp;nbsp;autopep8 &amp;lt;текущий_файл&amp;gt; &amp;gt;
&amp;lt;новый_файл&amp;gt; . А дальше сравнивал и искал где у меня ошибки.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 20 Apr 2012 23:58:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2012-04-20:go-to-pep-8.html</guid></item><item><title>Новый вид спама в мессенжерах</title><link>http://dicos.ru/new-type-spam.html</link><description>&lt;p&gt;Примерно с неделю назад каждые 3 дня через мейл.агент начали мне писать
девушки. Незнакомые. В этом плохого ни чего нет, наоборот, приятно :-).
Первые 3 минуты. Затем, понимаешь, что собеседница отвечает немного
невпопад. А в самом конце разговора говорит, что надо идти работать и
дает ссылку на сайт а-ля &amp;quot;риальные 3к0мства для сekca&amp;quot;. Пара примеров
диалогов:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;(13:53:37) mnastya208087: ты здесь?&lt;/div&gt;
&lt;div class="line"&gt;(13:57:42) dicos: привет, да, я тут)&lt;/div&gt;
&lt;div class="line"&gt;(13:57:58) mnastya208087: :))&lt;/div&gt;
&lt;div class="line"&gt;(13:58:42) dicos: Как-то я растерялся, не каждый день мне пишут
красивые девушки из Москвы)&lt;/div&gt;
&lt;div class="line"&gt;(13:58:59) mnastya208087: как жизнь?&lt;/div&gt;
&lt;div class="line"&gt;(13:59:11) dicos: да ни чего, спасибо. Работаю вот(&lt;/div&gt;
&lt;div class="line"&gt;(13:59:28) mnastya208087: А мне что-то печально - выходные
кончились, приходтся на работу ходить&lt;/div&gt;
&lt;div class="line"&gt;(14:00:06) dicos: а что ты так работу не любишь, она на тебя
обидится и то же тебя любить не будет&lt;/div&gt;
&lt;div class="line"&gt;(14:00:16) dicos: надо ею радоваться&lt;/div&gt;
&lt;div class="line"&gt;(14:00:31) dicos: принесли гору отчетов, а ты спасибо, ура, как
хорошо&lt;/div&gt;
&lt;div class="line"&gt;(14:00:43) dicos: а внутри поубивал бы всех))))&lt;/div&gt;
&lt;div class="line"&gt;mnastya208087: Я из Кусимово, это поселок городского типа, где-то
посредине Московой и Питером . Но послезавтра еду к вам на неделю!
В гости к однокласснице&lt;/div&gt;
&lt;div class="line"&gt;(14:03:14) dicos: вот оно что. сразу скажу, у нас морозн&lt;/div&gt;
&lt;div class="line"&gt;(14:03:17) dicos: *морозно&lt;/div&gt;
&lt;div class="line"&gt;(14:03:34) mnastya208087: напиши мне что-нибудь веселое&lt;/div&gt;
&lt;div class="line"&gt;(14:04:00) dicos: вчера хотел 5 пельмешков съесть.&lt;/div&gt;
&lt;div class="line"&gt;(14:04:14) dicos: налил в кастрюлю воды, закипела. начал сыпать&lt;/div&gt;
&lt;div class="line"&gt;(14:04:30) mnastya208087: :))&lt;/div&gt;
&lt;div class="line"&gt;(14:04:32) dicos: а пельмени как ломанулись из пакета, пришлось
полкило съесть&lt;/div&gt;
&lt;div class="line"&gt;(14:04:50) mnastya208087: эх! пора «к станку», ещё спишемся,
ладно?&lt;/div&gt;
&lt;div class="line"&gt;лови пока посмотреть&lt;/div&gt;
&lt;div class="line"&gt;p r i k o l . t k убери пробелы&lt;/div&gt;
&lt;div class="line"&gt;здесь мой сайтик, потом обсудим&lt;/div&gt;
&lt;div class="line"&gt;(14:07:05) dicos: хера себе спамеры пошли о_О&lt;/div&gt;
&lt;div class="line"&gt;(14:07:25) mnastya208087: с чего ты взял?! я просто хочу общаться
с интересными людьми&lt;/div&gt;
&lt;div class="line"&gt;(14:07:49) dicos: а p r i k o l . t k это ты к чему написала?&lt;/div&gt;
&lt;div class="line"&gt;(14:08:06) mnastya208087: :))&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;еще один диалог, на который попался уже мой товарищ:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;[07:33:38] jamleiaevlil: Приветики!&lt;/div&gt;
&lt;div class="line"&gt;[07:33:46] jivoy1988: Здравствуй.&lt;/div&gt;
&lt;div class="line"&gt;[07:34:03] jamleiaevlil: как поживаешь?&lt;/div&gt;
&lt;div class="line"&gt;[07:34:17] jivoy1988: Отлично. Как утебя дела? =)&lt;/div&gt;
&lt;div class="line"&gt;[07:34:46] jamleiaevlil: ))))))))&lt;/div&gt;
&lt;div class="line"&gt;[07:36:12] jivoy1988: Ты кто? =) Я тебя не знаю. Ты просто так
написала?&lt;/div&gt;
&lt;div class="line"&gt;[07:37:47] jamleiaevlil: Мы не знакомы, но но что мешает
познакомиться ;)&lt;/div&gt;
&lt;div class="line"&gt;[07:45:29] jivoy1988: Растояние...&lt;/div&gt;
&lt;div class="line"&gt;[08:04:55] jamleiaevlil: А мне как-то грустно - праздники
кончились, приходится торчать на работе&lt;/div&gt;
&lt;div class="line"&gt;[08:13:24] jivoy1988: Ну... не грусти ;) А где работаешь?&lt;/div&gt;
&lt;div class="line"&gt;[08:13:42] jamleiaevlil: работаю менеджером ничего интересного&lt;/div&gt;
&lt;div class="line"&gt;[08:14:14] jivoy1988: Интересно =) А где? Каким менеджером?&lt;/div&gt;
&lt;div class="line"&gt;[08:14:31] jamleiaevlil: напиши мне что-нибудь смешное&lt;/div&gt;
&lt;div class="line"&gt;[08:14:59] jivoy1988: Йа криведко, без чувства юмора.&lt;/div&gt;
&lt;div class="line"&gt;[08:15:16] jamleiaevlil: ))))))))&lt;/div&gt;
&lt;div class="line"&gt;[08:15:20] jivoy1988: Из меня смешное приходится выдавливать силой
=)&lt;/div&gt;
&lt;div class="line"&gt;[08:15:37] jamleiaevlil: блин! работать нужно, до связи, ок?&lt;/div&gt;
&lt;div class="line"&gt;лови пока посмотреть&lt;/div&gt;
&lt;div class="line"&gt;p r i k o l . t k вырежи пробелы&lt;/div&gt;
&lt;div class="line"&gt;здесь мой сайтик, завтра поболтаем&lt;/div&gt;
&lt;div class="line"&gt;[08:15:48] jivoy1988: Охуеть.&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;В обоих диалогах вопросы спамера стандартные: приветствие, как
поживаешь, небольшой рассказ о чем-нибудь веселом. То есть сделать такую
программу можно минут за 5. &amp;nbsp;А вот ответы то же&amp;nbsp;стандартные, но они
стандартны для глупенькой девушки. Или как у программ-говорилок :-)&lt;/p&gt;
&lt;p&gt;Спам очень необычный.&lt;/p&gt;
&lt;p&gt;Простых спамеров мейл.ру может выявлять по таким признакам: слишком
быстро задаются вопросы и ответы, все сообщения стандартные, или с
небольшими изменениями.&lt;/p&gt;
&lt;p&gt;В нашем случае сообщения приходят с некоторой задержкой, то есть идет
эмуляция работы человека. Сообщения то же разные, причем строятся в
диалоге с жертвой.&lt;/p&gt;
&lt;p&gt;Единственный способ отличить человека от бота, это спросить его. Я
спрашиваю название красной планеты нашей солнечной системы.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 18 Jan 2012 14:14:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2012-01-18:new-type-spam.html</guid></item><item><title>Добавить rowspan, colspan в таблицу Reportlab</title><link>http://dicos.ru/add-rowspan-colspan-in-table-reportlab.html</link><description>&lt;p&gt;&lt;a class="reference external" href="http://www.reportlab.com/"&gt;Reportlab&lt;/a&gt; -- это библиотека для
генерации pdf документов. Мне нужно было создать таблицу, несколько
колонок которой были&amp;nbsp;объединены. Гугл вразумительного ответа не смог
дать, поэтому стал читать официальную документацию. Действительно, на 77
странице вполне себе написано. Попробую дать перевод (вольный):&lt;/p&gt;
&lt;p&gt;Класс Table поддерживает объединение столбцов и строк, аналог в html --
rowspan и colspan. Формат объединения такой:&lt;/p&gt;
&lt;blockquote&gt;
SPAN, (sc,sr), (ec,er)&lt;/blockquote&gt;
&lt;p&gt;где sc, ec объединяемые колонки а sr, er объединяемые строки. Пример:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
data = [['Top\nLeft', '', '02', '03', '04'],
       ['', '', '12', '13', '14'],
       ['20', '21', '22', 'Bottom\nRight', ''],
       ['30', '31', '32', '', '']]
&lt;/pre&gt;
&lt;pre class="literal-block"&gt;
t = Table(data, style=[
                  ('GRID',(0,0),(-1,-1),0.5,colors.grey),
                  ('SPAN',(0,0),(1,1)),
                  ('SPAN',(-2,-2),(-1,-1)),
])
&lt;/pre&gt;
&lt;br&gt;
&lt;table class="standard-table"&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td rowspan="2" colspan="2"&gt;Top Left&lt;/td&gt;
&lt;td&gt;02&lt;/td&gt;
&lt;td&gt;03&lt;/td&gt;
&lt;td&gt;04&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;td rowspan="2" colspan="2"&gt;Bottom Right&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;30&lt;/td&gt;
&lt;td&gt;31&lt;/td&gt;
&lt;td&gt;32&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 03 Jan 2012 13:48:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2012-01-03:add-rowspan-colspan-in-table-reportlab.html</guid></item><item><title>Полезные ссылки</title><link>http://dicos.ru/good-links.html</link><description>&lt;p&gt;&lt;a class="reference external" href="http://www.network-theory.co.uk/docs/pytut/"&gt;http://www.network-theory.co.uk/docs/pytut/&lt;/a&gt;&amp;nbsp;-- краткий справочник по
базовым инструкциям и функциям. Такой же
как&amp;nbsp;&lt;a class="reference external" href="http://docs.python.org/library/"&gt;http://docs.python.org/library/&lt;/a&gt;, только гораздо понятнее написано.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 28 Dec 2011 20:42:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-12-28:good-links.html</guid></item><item><title>Линус Торнвальдс о C++</title><link>http://dicos.ru/linus-tornvalds-about-c.html</link><description>&lt;p&gt;&lt;a class="reference external" href="http://article.gmane.org/gmane.comp.version-control.git/57918"&gt;http://article.gmane.org/gmane.comp.version-control.git/57918&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;На странице&amp;nbsp;опубликован&amp;nbsp;ответ почему git написан на C а не на C++.
Переводить полностью мне лень, поэтому напишу тезисы:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;C хороший;&lt;/li&gt;
&lt;li&gt;а C++ плохой;&lt;/li&gt;
&lt;li&gt;и плохо портируется (как я понял, речь идет прежде всего о аппаратной
платформе i386, i486, ARM и т.д.);&lt;/li&gt;
&lt;li&gt;и сложен;&lt;/li&gt;
&lt;/ul&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 03 Nov 2011 22:02:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-11-03:linus-tornvalds-about-c.html</guid></item><item><title>Установка PIL с поддержкой jpeg и freetype в virtualenv</title><link>http://dicos.ru/setup-pil-with-support-jpeg-and-freetype-in-virtualenv.html</link><description>&lt;p&gt;Столкнулся с такой проблемой: даже если установлены пакеты&amp;nbsp;libjpeg
и&amp;nbsp;libfreetype6-dev в конце компиляции PIL пишет такое безобразие:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;*** TKINTER support not available&lt;/div&gt;
&lt;div class="line"&gt;*** JPEG support not available&lt;/div&gt;
&lt;div class="line"&gt;*** ZLIB (PNG/ZIP) support not available&lt;/div&gt;
&lt;div class="line"&gt;*** FREETYPE2 support not available&lt;/div&gt;
&lt;div class="line"&gt;--- LITTLECMS support available&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Причина такого поведения -- корявый установщик PIL-а. Исправить
положение можно выполнив такие команды:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;sudo ln -s /usr/lib/i386-linux-gnu/libfreetype.so /usr/lib/&lt;/div&gt;
&lt;div class="line"&gt;sudo ln -s /usr/lib/i386-linux-gnu/libz.so /usr/lib/&lt;/div&gt;
&lt;div class="line"&gt;sudo ln -s /usr/lib/i386-linux-gnu/libjpeg.so /usr/lib/&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;После создания симлинков еще раз пробуем установить и скомпилировать:
pip install pil&lt;/p&gt;
&lt;p&gt;Если и это не поможет, то придется править установщик:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;вводим 'pip install -I pil --no-install' скачиваем и распаковываем
исходники PIL в build каталок текущей виртуальной среды;&lt;/li&gt;
&lt;li&gt;заходим в каталог builds/pil/ и редактируем в редакторе
файл&amp;nbsp;setup.py;&lt;/li&gt;
&lt;li&gt;Ищем строку, в которой написано&amp;nbsp;'add_directory(library_dirs,
&amp;quot;/usr/lib&amp;quot;)' (214 строка);&lt;/li&gt;
&lt;li&gt;добавляем после этой строки строку&amp;nbsp;'add_directory(library_dirs,
&amp;quot;/usr/lib/i386-linux-gnu&amp;quot;)';&lt;/li&gt;
&lt;li&gt;закрываем редактор и после этого выполняем команду&amp;nbsp;'pip install -I
pil --no-download'&lt;/li&gt;
&lt;/ol&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 08 Jul 2011 22:29:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-07-08:setup-pil-with-support-jpeg-and-freetype-in-virtualenv.html</guid></item><item><title>Замена текста во многих файлах</title><link>http://dicos.ru/replace-text-in-many-files.html</link><description>&lt;p&gt;Иногда требуется заменить текст на другой текст в нескольких файлах.
Чтобы делать это автоматически использую такой скрипт:&lt;/p&gt;
&lt;blockquote&gt;
find . -name \*html -print0 | xargs -0 sed
's%some_text%new_text%g' -i&lt;/blockquote&gt;
&lt;p&gt;Он ищет фразу some_text в файла, названия которых оканчиваются на html
и заменяет фразу&amp;nbsp;some_text на&amp;nbsp;new_text.&lt;/p&gt;
&lt;p&gt;Эту штуку написал некто Liz с конференции &lt;a class="reference external" href="mailto:linux&amp;#64;conference.jabber.ru"&gt;linux&amp;#64;conference.jabber.ru&lt;/a&gt;.
Спасибо ему огромное.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 08 Jul 2011 22:04:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-07-08:replace-text-in-many-files.html</guid></item><item><title>Установка egenix-mx-base под virtualenv</title><link>http://dicos.ru/setup-egenix-mx-base-on-virtualenv.html</link><description>&lt;p&gt;Несколько человек, в том числе и я столкнулись с проблемой, когда из-под
виртуальной среды невозможно установить модуль&amp;nbsp;egenix-mx-base.&lt;/p&gt;
&lt;p&gt;Установка через pip оканчивалась неудачей:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;pip install egenix-mx-base&lt;/div&gt;
&lt;div class="line"&gt;Downloading/unpacking egenix-mx-base&lt;/div&gt;
&lt;div class="line"&gt;Downloading egenix-mx-base-3.2.0.tar.gz (4.6Mb): 4.6Mb downloaded&lt;/div&gt;
&lt;div class="line"&gt;Running setup.py egg_info for package egenix-mx-base&lt;/div&gt;
&lt;div class="line"&gt;Installing collected packages: egenix-mx-base&lt;/div&gt;
&lt;div class="line"&gt;Running setup.py install for egenix-mx-base&lt;/div&gt;
&lt;div class="line"&gt;error: None&lt;/div&gt;
&lt;div class="line"&gt;Complete output from command /home/dmitry/web/openerp/bin/python
-c &amp;quot;import setuptools;
__file__='/home/dmitry/web/openerp/build/egenix-mx-base/setup.py';
execfile('/home/dmitry/web/openerp/build/egenix-mx-base/setup.py')&amp;quot;
install --single-version-externally-managed --record
/tmp/pip-NueJAA-record/install-record.txt --install-headers
/home/dmitry/web/openerp/include/site/python2.7:&lt;/div&gt;
&lt;div class="line"&gt;running install&lt;/div&gt;
&lt;div class="line"&gt;running build&lt;/div&gt;
&lt;div class="line"&gt;running mx_autoconf&lt;/div&gt;
&lt;div class="line"&gt;error: None&lt;/div&gt;
&lt;div class="line"&gt;----------------------------------------&lt;/div&gt;
&lt;div class="line"&gt;Command /home/dmitry/web/openerp/bin/python -c &amp;quot;import setuptools;
__file__='/home/dmitry/web/openerp/build/egenix-mx-base/setup.py';
execfile('/home/dmitry/web/openerp/build/egenix-mx-base/setup.py')&amp;quot;
install --single-version-externally-managed --record
/tmp/pip-NueJAA-record/install-record.txt --install-headers
/home/dmitry/web/openerp/include/site/python2.7 failed with error
code 1&lt;/div&gt;
&lt;div class="line"&gt;Storing complete log in /home/dmitry/.pip/pip.log&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Установка при помощи &amp;nbsp;easy_install давала примерно похожий результат:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;easy_install egenix-mx-base&lt;/div&gt;
&lt;div class="line"&gt;Searching for egenix-mx-base&lt;/div&gt;
&lt;div class="line"&gt;Reading &lt;a class="reference external" href="http://pypi.python.org/simple/egenix-mx-base/"&gt;http://pypi.python.org/simple/egenix-mx-base/&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;Reading &lt;a class="reference external" href="http://www.lemburg.com/python/mxExtensions.html"&gt;http://www.lemburg.com/python/mxExtensions.html&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;Reading &lt;a class="reference external" href="http://www.egenix.com/products/python/mxBase/"&gt;http://www.egenix.com/products/python/mxBase/&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;Reading &lt;a class="reference external" href="http://www.egenix.com/"&gt;http://www.egenix.com/&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;Best match: egenix-mx-base 3.2.0&lt;/div&gt;
&lt;div class="line"&gt;Downloading
&lt;a class="reference external" href="http://downloads.egenix.com/python/egenix-mx-base-3.2.0.tar.gz"&gt;http://downloads.egenix.com/python/egenix-mx-base-3.2.0.tar.gz&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;Processing egenix-mx-base-3.2.0.tar.gz&lt;/div&gt;
&lt;div class="line"&gt;Running egenix-mx-base-3.2.0/setup.py -q bdist_egg --dist-dir
/tmp/easy_install-gyJnYN/egenix-mx-base-3.2.0/egg-dist-tmp-ZbsIvy&lt;/div&gt;
&lt;div class="line"&gt;Warning: Can't read registry to find the necessary compiler
setting&lt;/div&gt;
&lt;div class="line"&gt;Make sure that Python modules _winreg, win32api or win32con are
installed.&lt;/div&gt;
&lt;div class="line"&gt;error: Setup script exited with error: None&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Попытка сборки из исходников так же оканчивалась неудачей:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;egenix-mx-base-3.2.0$ python setup.py install&lt;/div&gt;
&lt;div class="line"&gt;running install&lt;/div&gt;
&lt;div class="line"&gt;running build&lt;/div&gt;
&lt;div class="line"&gt;running mx_autoconf&lt;/div&gt;
&lt;div class="line"&gt;error: None&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;Решение:&lt;/h2&gt;
&lt;p&gt;Благо на сайте разработчика сказано о том, что можно установить наш
модуль без C компилятора. Но для этого сперва надо знать в какой
кодировке скомпилирован питон: UTF-16 (UCS-2) или UTF-32 (UCS-4). Узнать
это можно так:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;$ python #запускаем питон&lt;/div&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt; import sys&lt;/div&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt; print sys.maxunicode&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Если число равно&amp;nbsp;65535, то кодировка UTF-16 (UCS2), если&amp;nbsp;4294967295, то
UTF-32&amp;nbsp;(UCS4).&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Для UTF-16 строка установки будет такая:&lt;/div&gt;
&lt;div class="line"&gt;easy_install -i &lt;a class="reference external" href="http://downloads.egenix.com/python/index/ucs2/"&gt;http://downloads.egenix.com/python/index/ucs2/&lt;/a&gt;
egenix-mx-base&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;А для UTF-32 строка установки будет выглядеть так:&lt;/div&gt;
&lt;div class="line"&gt;easy_install -i &lt;a class="reference external" href="http://downloads.egenix.com/python/index/ucs4/"&gt;http://downloads.egenix.com/python/index/ucs4/&lt;/a&gt;
egenix-mx-base&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Сайт разработчика:&amp;nbsp;&lt;a class="reference external" href="http://www.egenix.com/products/python/mxBase/"&gt;http://www.egenix.com/products/python/mxBase/&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 22 Jun 2011 14:28:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-06-22:setup-egenix-mx-base-on-virtualenv.html</guid></item><item><title>Субдомены в django</title><link>http://dicos.ru/subdomains-in-django.html</link><description>&lt;p&gt;На сайте &lt;a class="reference external" href="http://on-day.ry/"&gt;on-day.ru&lt;/a&gt;, понадобилось реализовать
такую штуку: каждый город должен находиться на своем субдомене.
Полезность этого нововведения пусть оценивает СЕО специалист (привет,
Евгений!), тут опишу техническую сторону вопроса.&lt;/p&gt;
&lt;p&gt;Какие требования:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;должна сохраниться легкость управления сайтом;&lt;/li&gt;
&lt;li&gt;простота реализации;&lt;/li&gt;
&lt;li&gt;при дальнейшем развитии сайта не должно быть проблем, связанных с
архитектурой.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Какие варианты реализаций рассматривал:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;создать субдомены для каждого города, и для субдомена поставить свой
движок сайта;&lt;/li&gt;
&lt;li&gt;средствами веб-сервера преобразовывать запросы с subdomain.on-day.ru
на on-day.ru/subdomain/&lt;/li&gt;
&lt;li&gt;джангу надо научить работать с субдоменами&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Достоинства/недостатки:&lt;/p&gt;
&lt;p&gt;У первого способа основной недостаток в том, что придется вручную
создавать, редактировать и удалять субдомены. То есть научить
контент-менеджера работать с панелью управления DNS сервера, настраивать
виртуальные хосты на веб-сервере. Достоинство вижу только одно: большая
гибкость сайта(-ов).&lt;/p&gt;
&lt;p&gt;Во втором способе мне не понравилась жесткая привязка к веб-серверу. То
есть, сейчас использую веб-сервер апач. Если захочу заменить веб-сервер
на nginx, придется разбираться с настройками преобразования URL-ов.&lt;/p&gt;
&lt;p&gt;Как понял дорогой мой читатель, я выбрал третий вариант реализации. Мне
нужен готовый модуль с хорошей документацией, поддержкой шаблонных тегов
и очень гибкий в настройке. Все, что&amp;nbsp;перепробовал&amp;nbsp;перечислять не буду, я
остановился на модуле
&lt;a class="reference external" href="http://pypi.python.org/pypi/django-hosts/"&gt;django-hosts&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Как установить очень хорошо написано в документации. Сейчас я расскажу о
его особенностях, вернее о том, что мне было не очевидно. Пусть у нас
содержание файла hosts будет таким:&lt;/p&gt;
&lt;blockquote&gt;
&lt;pre class="literal-block"&gt;
from django.conf import settings
from django_hosts import patterns, host

host_patterns = patterns('',
    host(r'www', settings.ROOT_URLCONF, name='www'),
    host(r'news', 'news.urls', name='news'),
    host(r'(\w+)', 'user.urls', name='user'),
)
&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;p&gt;а файл user/urls.py будет иметь вот такой код:&lt;/p&gt;
&lt;blockquote&gt;
&lt;pre class="literal-block"&gt;
from django.conf.urls.defaults import patterns, url

urlpatterns = patterns('user.views',
url(r'^$', 'main_user', name='main_user'),
url(r'^(?P&amp;lt;slug&amp;gt;[^/]+)/$', 'news', name='news'),
)
&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;p&gt;Формат тега host_url такой: {% host_url название_url параметр1_вьюхи
параметр2_вьюхи on название_хоста параметр_хоста1&amp;nbsp; %} Для примера,
нам нужно вывести ссылки на последние новостей всех пользователей.
Переменную last_news содержит в себе информацию о последней новости и
создателе этой новости. Код шаблона будет таким:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;{% load hosts %}&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;{% for news_item in last_news %}&lt;/div&gt;
&lt;div class="line"&gt;&amp;lt;a href=&amp;quot;{% host_url news news_item.slug on user
news.creator.name %}&amp;quot;&amp;gt;{{ news.name }}&amp;lt;/a&amp;gt;&lt;/div&gt;
&lt;div class="line"&gt;{% endfor %}&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;При использовании с
пакетом&amp;nbsp;&lt;a class="reference external" href="http://pypi.python.org/pypi/django-debug-toolbar/"&gt;django-debug-toolbar&lt;/a&gt;
модуль django-hosts вел себя некорректно: не всегда понять какой хост от
него требуют. Исправить этот косяк можно только отключив мидлварь
debug_toolbar.middleware.DebugToolbarMiddleware.&amp;nbsp;Об этом поведении
&lt;a class="reference external" href="https://github.com/jezdez/django-hosts/issues/3"&gt;отписался&lt;/a&gt; на своем
недоанглийском разработчику. Если кто владеет английским гораздо лучше
меня и объяснит автору что я имел ввиду, то буду очень признателен&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Thu, 16 Jun 2011 16:33:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-06-16:subdomains-in-django.html</guid></item><item><title>Русские буквы в zip архивах, Ubuntu</title><link>http://dicos.ru/russian-characters-in-zip-archive.html</link><description>&lt;p&gt;Нужно установить доработанную версию архиватора zip.&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Для начала нужно добавить репозиторий sudo apt-add-repository
ppa:frol/zip-i18n&lt;/div&gt;
&lt;div class="line"&gt;Потом сделать обновление системы sudo aptitude update &amp;amp;&amp;amp; sudo aptitude
safe-upgrade&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 10 May 2011 19:35:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-05-10:russian-characters-in-zip-archive.html</guid></item><item><title>Как сделать свою википедию</title><link>http://dicos.ru/ones-own-wikipedia.html</link><description>&lt;p&gt;Моим недавним заказом было создание сайта на основе движка
&lt;a class="reference external" href="http://www.mediawiki.org/"&gt;mediawiki&lt;/a&gt;. Какие задачи стояли:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;вставлять description, keywords в страницу;&lt;/li&gt;
&lt;li&gt;помещать ролики youtube на страницу;&lt;/li&gt;
&lt;li&gt;изменять title страниц;&lt;/li&gt;
&lt;li&gt;создать несколько шаблонов страниц;&lt;/li&gt;
&lt;li&gt;размещать карту яндекса в любом месте.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Программировать, кроме последнего ни чего не надо было, обошелся
готовыми модулями:&lt;/p&gt;
&lt;p&gt;Для keywords есть готовое расширение
&lt;a class="reference external" href="http://www.mediawiki.org/wiki/Extension:MetaKeywordsTag"&gt;MetaKeywordsTag&lt;/a&gt;.&amp;nbsp;С
тегом description все оказалось сложнее из-за того, что многие
расширения либо не работали, либо работали не так как надо (этот тег
оказывался внутри тега body а не head). Решение оказалось самое простое:
открыть MetaKeywordsTag.php, заменить внутри него слова keywords на
description. Вот готовый
&lt;a class="reference external" href="http://dicos.ru/wp-content/uploads/2011/03/MetaDescriptionTag.php_.tar"&gt;результат&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Чтобы вставлять видео с ютуба, нужно установить
модуль&amp;nbsp;&lt;a class="reference external" href="http://www.mediawiki.org/wiki/Extension:EmbedVideo"&gt;EmbedVideo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Расширения, нужное для вставки title, в текущей стабильной версии нет
(1.16), для следующей версии есть. Рекомендовать ни чего не буду, так
как с выходом релиза все может сломаться.&lt;/p&gt;
&lt;p&gt;Чтобы сделать более-менее интеллектуальные шаблоны (например карточки)
нужно установить
расширение&amp;nbsp;&lt;a class="reference external" href="http://www.mediawiki.org/wiki/ParserFunctions"&gt;ParserFunctions&lt;/a&gt;.
Пример карточки можно увидеть на странице с описанием
&lt;a class="reference external" href="http://ru.wikipedia.org/wiki/%D0%90%D0%9A-47"&gt;АК-47&lt;/a&gt;, она находится
справа.&lt;/p&gt;
&lt;p&gt;Подробнее хотел бы остановиться на яндекс картах. Для начала &lt;a class="reference external" href="http://dicos.ru/wp-content/uploads/2011/03/YandexMap.php_.tar"&gt;скачайте
файл&lt;/a&gt;
и распакуйте его в каталог extensions. Потом откройте файл
LocalSettings.php и добавьте такие строки:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;$wgYandexMapsKey = 'API-ключ';&lt;/div&gt;
&lt;div class="line"&gt;require_once( '$IP/extensions/YandexMap.php' );&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Если кто не знает, ключ можно получить только зарегистрировавшись на
яндексе на этой странице&amp;nbsp;&lt;a class="reference external" href="http://api.yandex.ru/maps/keyslist.xml"&gt;http://api.yandex.ru/maps/keyslist.xml&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 13 Mar 2011 12:39:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-03-13:ones-own-wikipedia.html</guid></item><item><title>Как подключить к virtualbox-у флешку</title><link>http://dicos.ru/how-to-enable-flash-dirver-to-virtualbox.html</link><description>&lt;p&gt;Небольшая предыстория: часто использую virtualbox для запуска windows из
под убунты. Для создания ключей рутокинга нужно было дать прямой доступ
к флешке гостевой системе windows&lt;/p&gt;
&lt;p&gt;Поставляемый дистрибутив virtualbox-а, самой убунтой, так называемый
&amp;quot;Vitualbox OSE&amp;quot; не поддерживает подключение флешек (эта возможность
отключена по патентным соображениям). Поэтому данный пакет следует
удалить, например через &amp;quot;Центр приложений Ubuntu&amp;quot; или через Synaptic.&lt;/p&gt;
&lt;p&gt;Для установка &amp;quot;нормальной&amp;quot; виртуальной машины идем на &lt;a class="reference external" href="http://www.virtualbox.org/wiki/Downloads"&gt;официальный
сайт&lt;/a&gt;, выбираем
дистрибутив, качаем и устанавливаем. Когда установили, качаем &amp;quot;Extension
Pack&amp;quot;. На скачавшийся файл нажимаем 2 раза. Virtualbox что-то
спрашивает, отвечаем утвердительно.&lt;/p&gt;
&lt;p&gt;После того, как установили в свойствах гостевой системы слева можно
увидеть появившийся пункт usb. Что дальше делать, полагаю читатель
знает.&lt;/p&gt;
&lt;p&gt;Но мне эти все метания с переустановкой virtualbox-а не дали должного
эффекта: windows &amp;nbsp;ее не видела. Пробема решилась добавлением &amp;quot;меня&amp;quot; в
группу vboxusers. Сделал это такой командой:&lt;/p&gt;
&lt;blockquote&gt;
sudo usermod -G vboxusers мой_юзер&lt;/blockquote&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 30 Jan 2011 21:58:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-01-30:how-to-enable-flash-dirver-to-virtualbox.html</guid></item><item><title>Подключаем google maps</title><link>http://dicos.ru/setup-google-maps.html</link><description>&lt;p&gt;Нашел небольшую ошибку в документации:&lt;/p&gt;
&lt;div&gt;&lt;p&gt;написано: &amp;lt;script
src=&amp;quot;&lt;a class="reference external" href="http://maps.google.com/maps?file=api&amp;amp;amp;v=2&amp;amp;amp;sensor=true_or_false&amp;amp;amp;key=ABQIAAAA"&gt;http://maps.google.com/maps?file=api&amp;amp;amp;v=2&amp;amp;amp;sensor=true_or_false&amp;amp;amp;key=ABQIAAAA&lt;/a&gt;
WAv1xvwwC6CWojach1uhjRRTECATYhurY4IdD6DIW2V
_sAdH0BSMmf2Kw38QhOD4zVRxXc4DatAwMg&amp;quot; type=&amp;quot;text/javascript&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
надо: &amp;lt;script
src=&amp;quot;&lt;a class="reference external" href="http://maps.google.com/maps/api/js?sensor=true&amp;amp;key=ABQIAAAAWA"&gt;http://maps.google.com/maps/api/js?sensor=true&amp;amp;key=ABQIAAAAWA&lt;/a&gt;
v1xvwwC6CWojach1uhjRRTECATYhurY4IdD6DIW2V_sAdH0BS
Mmf2Kw38QhOD4zVRxXc4DatAwMg&amp;quot; type=&amp;quot;text/javascript&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/p&gt;
&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 02 Jan 2011 14:03:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-01-02:setup-google-maps.html</guid></item><item><title>Перенос postgis базы данных на другой сервер</title><link>http://dicos.ru/migrate-postgis-database.html</link><description>&lt;p&gt;Начав востанавливать базу данных из бекапа увидел на экране кучу ошибок.
Причиной ошибок оказался неподключенный к восстанавливаемой базе данных
plpgsql язык программирования. Подключить его можно командой из bash
консоли:&lt;/p&gt;
&lt;blockquote&gt;
createlang plpgsql you_database&lt;/blockquote&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 02 Jan 2011 13:53:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-01-02:migrate-postgis-database.html</guid></item><item><title>Настройка IP телевидения от "Электронного Города"</title><link>http://dicos.ru/setup-ip-tv-from-cn.html</link><description>&lt;p&gt;У нас имеется шлюз, раздающий интернет. В качестве шлюза был взят
немного устаревший компьютер, в качестве ОС установлена убунта 10.10.
Чтобы избежать недомолвок сообщаю, о том, что интернет этот компьютер
уже разадавал&lt;/p&gt;
&lt;p&gt;Для начала нужно установить
&lt;a class="reference external" href="http://sourceforge.net/projects/igmpproxy/"&gt;igmpproxy&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;качаем:&lt;/div&gt;
&lt;div class="line"&gt;wget
&lt;a class="reference external" href="http://downloads.sourceforge.net/project/igmpproxy/igmpproxy/0.1/igmpproxy-0.1.tar.gz"&gt;http://downloads.sourceforge.net/project/igmpproxy/igmpproxy/0.1/igmpproxy-0.1.tar.gz&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;распаковываем:&lt;/div&gt;
&lt;div class="line"&gt;tar -xvf igmpproxy-0.1.tar.gz&lt;/div&gt;
&lt;div class="line"&gt;заходим в каталог:&lt;/div&gt;
&lt;div class="line"&gt;cd igmpproxy-0.1/&lt;/div&gt;
&lt;div class="line"&gt;запускаем скрипт для поиска необходимых библиотек.&lt;/div&gt;
&lt;div class="line"&gt;./configure&lt;/div&gt;
&lt;div class="line"&gt;у меня на &amp;nbsp;этом этапе появилась ошибка о том, что нет компилятора C++. Текст ошибки не помню, эту запись пишу по памяти. Устанавливаем:&lt;/div&gt;
&lt;div class="line"&gt;aptitude install gcc&lt;/div&gt;
&lt;div class="line"&gt;еще раз запускаем &amp;nbsp;./configure&lt;/div&gt;
&lt;div class="line"&gt;запускаем процесс компиляции:&lt;/div&gt;
&lt;div class="line"&gt;make&lt;/div&gt;
&lt;div class="line"&gt;устанавливаем:&lt;/div&gt;
&lt;div class="line"&gt;make install&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;После успешного выполнения команд, настраиваем то, что установили:
nano /usr/local/etc/igmpproxy.conf
Содержимое моего файла такое:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;quickleave&lt;/div&gt;
&lt;div class="line"&gt;phyint eth0 upstream ratelimit 0 threshold 1&lt;/div&gt;
&lt;div class="line"&gt;altnet 10.0.0.0/8&lt;/div&gt;
&lt;div class="line"&gt;altnet 178.0.0.0/8&lt;/div&gt;
&lt;div class="line"&gt;altnet 238.0.0.0/8&lt;/div&gt;
&lt;div class="line"&gt;altnet 239.0.0.0/8&lt;/div&gt;
&lt;div class="line"&gt;altnet 224.0.0.0/8&lt;/div&gt;
&lt;div class="line"&gt;phyint eth1 downstream &amp;nbsp;ratelimit 0 &amp;nbsp;threshold 1&lt;/div&gt;
&lt;div class="line"&gt;altnet 192.168.1.0/24&lt;/div&gt;
&lt;div class="line"&gt;phyint eth2 disabled&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;eth0 -- интерфейс, в который &amp;quot;воткнут&amp;quot; интернет
eth1 -- интерфейс, в котором &amp;quot;воткнута&amp;quot; локальная сеть&lt;/p&gt;
&lt;p&gt;Пробуем запустить:&amp;nbsp;/usr/local/sbin/igmpproxy
/usr/local/etc/igmpproxy.conf&amp;amp;
Проверяем: sysctl -a | grep forward | grep v4
результат п римерно должен быть таким:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;net.ipv4.conf.all.forwarding = 1&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.conf.all.mc_forwarding = 1&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.conf.default.forwarding = 1&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.conf.default.mc_forwarding = 0&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.conf.lo.forwarding = 1&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.conf.lo.mc_forwarding = 0&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.conf.eth0.forwarding = 1&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.conf.eth0.mc_forwarding = 1&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.conf.eth1.forwarding = 1&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.conf.eth1.mc_forwarding = 1&lt;/div&gt;
&lt;div class="line"&gt;net.ipv4.ip_forward = 1&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Далее, настраиваем правила для фаервола (сети не самый мой лучший конек,
возможно что-то сделано неоптимально):&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;iptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT&lt;/div&gt;
&lt;div class="line"&gt;iptables -A INPUT -i lo -j ACCEPT&lt;/div&gt;
&lt;div class="line"&gt;iptables -A INPUT -p igmp -j ACCEPT&lt;/div&gt;
&lt;div class="line"&gt;iptables -A FORWARD -s 178.49.xxx.xxx/24 -p udp -j ACCEPT&lt;/div&gt;
&lt;div class="line"&gt;iptables -A INPUT -s 192.168.1.0/255.255.255.0 -i eth1 -j ACCEPT&lt;/div&gt;
&lt;div class="line"&gt;iptables -A FORWARD -s 192.168.1.0/24 -p udp -j ACCEPT&lt;/div&gt;
&lt;div class="line"&gt;iptables -t nat -A POSTROUTING -s 192.168.1.0/255.255.255.0 -j MASQUERADE&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Проверяем, все должно работать. Если нет, то ищем проблемы, что сделано
не так :-)
Если все заработало, то создаем скрипт запуска нашего&amp;nbsp;igmpproxy:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;touch /etc/init.d/igmpproxy&lt;/div&gt;
&lt;div class="line"&gt;nano /etc/init.d/igmpproxy&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;у нас должен открыться редактор, в него вписываем:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;#!/bin/sh&lt;/div&gt;
&lt;div class="line"&gt;/usr/local/sbin/igmpproxy /usr/local/etc/igmpproxy.conf&amp;amp;&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Перезагружаем шлюз, все должно работать.
Если ни чего не получается, то запускаем igmpproxy в режиме
отладки:&amp;nbsp;/usr/local/sbin/igmpproxy /usr/local/etc/igmpproxy.conf -d
Должны появиться такие сообщения:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;The source address 178.49.131.35 for group 239.1.1.2, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;div class="line"&gt;The source address 178.49.131.35 for group 239.1.1.2, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;div class="line"&gt;The source address 178.49.131.35 for group 239.1.1.2, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;div class="line"&gt;The source address 178.49.131.35 for group 239.1.1.2, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;div class="line"&gt;The source address 178.49.131.35 for group 239.1.1.2, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;div class="line"&gt;The source address 178.49.131.52 for group 239.1.1.3, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;div class="line"&gt;The source address 178.49.131.35 for group 239.1.1.2, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;div class="line"&gt;The source address 178.49.131.52 for group 239.1.1.3, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;div class="line"&gt;The source address 178.49.131.35 for group 239.1.1.2, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;div class="line"&gt;The source address 178.49.131.52 for group 239.1.1.3, is not in any valid net for upstream VIF.&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Тогда в файле&amp;nbsp;/usr/local/etc/igmpproxy.conf дописываем появившийся ip адрес:&amp;nbsp;altnet 239.0.0.0/8 ко всем прочим&amp;nbsp;altnet-ам&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 02 Jan 2011 13:21:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2011-01-02:setup-ip-tv-from-cn.html</guid></item><item><title>Как перенести кнопку закрытия вправо</title><link>http://dicos.ru/how-to-close-button-right.html</link><description>&lt;p&gt;Для этого в консоли нужно выполнить команду&lt;/p&gt;
&lt;blockquote&gt;
gconftool-2 --type string --set
/apps/metacity/general/button_layout 'menu:minimize,maximize,close'&lt;/blockquote&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 06 Dec 2010 12:03:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-12-06:how-to-close-button-right.html</guid></item><item><title>Как отправить значение из списка в combobox</title><link>http://dicos.ru/how-to-make-combobox-send-value-field.html</link><description>&lt;p&gt;Когда мы используем Ext JS’а ComboBox, если мы не установили скрытое имя
или его id, то отправляется на сервер введенное значение а не значение
поля. Для исправления нужно установить скрытое имя. За подробностями на`Ext JS
ComboBox’&amp;nbsp;документацию &lt;a class="reference external" href="http://extjs.com/deploy/dev/docs/?class=Ext.form.ComboBox"&gt;http://extjs.com/deploy/dev/docs/?class=Ext.form.ComboBox&lt;/a&gt;.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
var unitField = new Ext.form.ComboBox({
    id:'unitField',
    name: 'unit',
    fieldLabel: 'Unit',
    store:unitStore,
    mode: 'remote',
    displayField: 'name',
    valueField: 'id',
    hiddenName : 'unitId',
    allowBlank: false,
    anchor:'95%',
    triggerAction: 'all'
});
&lt;/pre&gt;
&lt;p&gt;Взял
&lt;a class="reference external" href="http://turgaykivrak.wordpress.com/2008/05/19/extjs-20-tip-how-to-make-combobox-send-value-field/"&gt;отсюда&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 12 Nov 2010 14:19:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-11-12:how-to-make-combobox-send-value-field.html</guid></item><item><title>Скачать убунту с яндекса</title><link>http://dicos.ru/download-ubuntu-from-yandex.html</link><description>&lt;p&gt;Скачать любую версию убунты с яндекса можно тут:
&lt;a class="reference external" href="http://mirror.yandex.ru/ubuntu-releases/"&gt;http://mirror.yandex.ru/ubuntu-releases/&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 12 Nov 2010 10:08:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-11-12:download-ubuntu-from-yandex.html</guid></item><item><title>"GET /resources/images/default/s.gif HTTP/1.1" 404</title><link>http://dicos.ru/s-gif-404.html</link><description>&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Сегодня столкнулся в ExtJs с такой проблемой: одна из картинок для
создания элемента формы combobox не могла загрузиться:&lt;/div&gt;
&lt;div class="line"&gt;&amp;quot;GET /resources/images/default/s.gif HTTP/1.1&amp;quot; 404&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Для того, чтобы исправить это мы пишем в скрипте:
Ext.BLANK_IMAGE_URL = 'путь_до_файла/s.gif';&lt;/div&gt;
&lt;div class="line"&gt;К примеру, у меня полный путь такой: Ext.BLANK_IMAGE_URL =
'/media/extjs/resources/images/default/s.gif';&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 01 Nov 2010 14:59:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-11-01:s-gif-404.html</guid></item><item><title>идеальная CMS, смотрим что есть сейчас</title><link>http://dicos.ru/ideal-cms-1.html</link><description>&lt;p&gt;Не так давно нужно было быстро сделать сайт-визитку. Там должен был
размещаться только текст с картинками. Админка должна быть &lt;em&gt;удобной&lt;/em&gt; для
работы.&lt;/p&gt;
&lt;p&gt;В мире РНР много уже готовых решений, в которых пользователь чувствует
себя &amp;quot;как дома&amp;quot;. Не верите? Вот подтверждение
&lt;a class="reference external" href="http://www.opensourcecms.com/"&gt;http://www.opensourcecms.com&lt;/a&gt;. С
точки зрения пользователя самой удобной системой управления содержимым
сайта это modx и Joomla. Сейчас это попробую доказать.&lt;/p&gt;
&lt;p&gt;Если читать лень, лучше всего перейти на демо версию
CMS-ок&amp;nbsp;&lt;a class="reference external" href="http://php.opensourcecms.com/scripts/details.php?scriptid=48&amp;amp;name=MODx"&gt;modx&lt;/a&gt;
и
&lt;a class="reference external" href="http://php.opensourcecms.com/scripts/details.php?scriptid=39&amp;amp;name=Joomla"&gt;Joomla&lt;/a&gt;.
Чтобы понять удобна ли вещь или нет, нужно воспользоваться ею, то есть
решить при помощи нее какую-то задачу. Итак, задача: у нас есть какой-то
сайт, на одной из страниц нужно создать подстраницу.&amp;nbsp;Самая близкая к
моей душе CMS это modx, про нее и расскажу.&amp;nbsp;Рабочая область состоит из
двух частей. Слева расположено дерево страниц, справа рабочая область. А
теперь по шагам:&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p class="first"&gt;Как я уже говорил, структура страниц выполнена в виде древовидного
списка. После того, как нажали правой кнопкой мыши на какой-нибудь
элемент списка, у нас откроется контекстное меню. Выбираем пункт
&amp;quot;Create-&amp;gt;Create a Document Here&amp;quot;
&lt;a class="reference external" href="//img-fotki.yandex.ru/get/94372/44073636.2/0_132e3f_656835da_orig"&gt;&lt;img alt="image0" src="//img-fotki.yandex.ru/get/94372/44073636.2/0_132e3f_656835da_L.png" style="width: 500px; height: 235px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Рассмотрим подробнее появившуюся форму ввода&lt;a class="reference external" href="//img-fotki.yandex.ru/get/119695/44073636.2/0_132e40_39d7bb32_orig"&gt;&lt;img alt="image1" src="//img-fotki.yandex.ru/get/119695/44073636.2/0_132e40_39d7bb32_L.png" style="width: 500px; height: 371px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*Uses Template тут выбирается шаблон, по его образу и подобию будет
выглядеть создаваемая страница. Кроме того, в разных шаблонах
требуется передавать разные данные, например, в странице описания
товара поля, в которых будут вноситься данные о товаре, его цене,
сроке годности и т.д., а на странице &amp;quot;о нас&amp;quot; будет поле с названием
страницы и WYSWYG редактор.&lt;/p&gt;
&lt;p&gt;*Published публиковать ли страницу&lt;/p&gt;
&lt;p&gt;*Resource Alias это поле нужно для создания человеко-понятного URL
(ЧПУ). Без него URL страницы будет выглядеть как
&lt;a class="reference external" href="http://site.ru/?page=2347"&gt;http://site.ru/?page=2347&lt;/a&gt;
*Parent Resource эта штука позволяет менять положение страницы в
структуре сайта
*Menu Title название страницы в меню :-) (полосе навигации)
*Menu Index этот параметр определяет положение
*Resource Content -- на том месте должен быть WYSWYG редактор, но
решил его не запускать.
После как мы заполнили все поля, нажимаем на кнопку &amp;quot;сохранить&amp;quot;. Она
находится в правом верхнем углу.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Сейчас стоит обратить внимание на дерево страниц: там появилась наша
созданная страница, а также у родительской страницы иконка в виде
папки.&lt;a class="reference external" href="//img-fotki.yandex.ru/get/113961/44073636.2/0_132e41_62b6b852_orig"&gt;&lt;img alt="image2" src="//img-fotki.yandex.ru/get/113961/44073636.2/0_132e41_62b6b852_L.png" style="width: 500px; height: 370px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;В каталог страниц можно добавлять ссылки , не связанные с самой CMS-кой,
ресурсы (форум, который работает как отдельное приложение), &amp;nbsp;на файлы,
которые размещены в файловой системе сервера и создавать алиасы на
перемещенные страницы (к примеру, была по этому адресу страница, мы
изменили адрес на другой, а люди все идут по старому адресу).&lt;/p&gt;
&lt;p&gt;Но самым вкусным считаю следующее: если нужно в тексте поставить ссылку
на другую страницу сайта, то просто пишем [~id~], где id это числовой
идентификатор страницы.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Tue, 26 Oct 2010 16:58:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-10-26:ideal-cms-1.html</guid></item><item><title>Вечно забываю</title><link>http://dicos.ru/file-and-folder-permission.html</link><description>&lt;p&gt;Как установить права доступа на запись в папку и на все подпапки и
файлы:&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;strong&gt;chmod -R 755 /home/vasya&lt;/strong&gt;&lt;/div&gt;
&lt;div class="line"&gt;смена прав, -R рекурсивно, т.е. изменит и то, что внутри каталога
vasya&lt;/div&gt;
&lt;div class="line"&gt;циферки - это три отдельных атрибута:&lt;/div&gt;
&lt;div class="line"&gt;7 - rwx - читать, писать, выполнять&lt;/div&gt;
&lt;div class="line"&gt;6 - rw- - читаь, писать&lt;/div&gt;
&lt;div class="line"&gt;5 - r-x - читать, выполнять&lt;/div&gt;
&lt;div class="line"&gt;4 - r-- - читать&lt;/div&gt;
&lt;div class="line"&gt;3 - -wx - писать, выполнять&lt;/div&gt;
&lt;div class="line"&gt;2 - -w- - писать&lt;/div&gt;
&lt;div class="line"&gt;1 - --x - выполнять&lt;/div&gt;
&lt;div class="line"&gt;0 - --- - ничего нельзя делать&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Первая цифра означает применения прав для пользователя,&lt;/div&gt;
&lt;div class="line"&gt;Вторая - для группы&lt;/div&gt;
&lt;div class="line"&gt;Третья - права для всех остальных&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Для смены владельца файлов/каталогов используем chown:&lt;/div&gt;
&lt;div class="line"&gt;&lt;strong&gt;chown -R vasya:users /home/vasya&lt;/strong&gt;&lt;/div&gt;
&lt;div class="line"&gt;поменяет владельца и группу каталога vasya и содержимое онного!&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Взял отсюда:&amp;nbsp;&lt;a class="reference external" href="http://www.woodwolf.ru/76/"&gt;http://www.woodwolf.ru/76/&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 25 Oct 2010 22:49:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-10-25:file-and-folder-permission.html</guid></item><item><title>Сетевая папка в контроллере домена windows 2003</title><link>http://dicos.ru/shared-folder-in-active-directory.html</link><description>&lt;p&gt;Задача такова: на сервере, который является контроллером домена нужно
сделать сетевую папку, доступ к которой должен осуществляться по логину
и паролю.&lt;/p&gt;
&lt;p&gt;Решение этой задачи очень простое, но мне пришлось изрядно повозиться.
Сейчас расскажу решение.&lt;/p&gt;
&lt;p&gt;Нажимаем правой кнопкой на &amp;quot;мой компьютер&amp;quot;, выбираем &amp;quot;управление
компьютером&amp;quot;. Затем нажимаем правой кнопкой на &amp;quot;общие ресурсы&amp;quot;
выбираем &amp;quot;новый общий ресурс&amp;quot;. Должен открыться мастер, в нем
указываем саму папку и название общей папки. После указания этих
параметров мы должны остановиться у окошка разрешения. Тут нужно
указать &amp;quot;использовать особые права доступа к общей папке&amp;quot; и нажать на
кнопку &amp;quot;настроить&amp;quot;.
&lt;a class="reference external" href="//img-fotki.yandex.ru/get/62989/44073636.2/0_132e3c_a22ccd55_orig"&gt;&lt;img alt="image0" src="//img-fotki.yandex.ru/get/62989/44073636.2/0_132e3c_a22ccd55_L.png" style="width: 500px; height: 435px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;В появившемся окне должны добавить группу или пользователя, который
может добавлять файлы в эту папку, вот пример:
&lt;a class="reference external" href="//img-fotki.yandex.ru/get/58784/44073636.2/0_132e3d_669151ac_orig"&gt;&lt;img alt="image1" src="//img-fotki.yandex.ru/get/58784/44073636.2/0_132e3d_669151ac_L.png" style="width: 500px; height: 303px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Потом нужно переключиться на вкладку &amp;quot;безопасность&amp;quot; и дать людям или
группам полный доступ:
&lt;a class="reference external" href="//img-fotki.yandex.ru/get/62989/44073636.2/0_132e3e_c5a51adf_orig"&gt;&lt;img alt="image2" src="//img-fotki.yandex.ru/get/62989/44073636.2/0_132e3e_c5a51adf_L.png" style="width: 500px; height: 301px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Последнее действие я не догадывался сделать, из-за чего не мог попасть в
эту папку.&lt;/p&gt;
&lt;p&gt;Эту общую папку лучше всего подключать как сетевой жесткий диск. В
линуксе это можно сделать так: sudo mount -t cifs
//IP_адрес_сервера/dis /home/usr/каталог_на_жестком_диске/ -o
username=dmitry,password=123123,file_mode=0666,dir_mode=0777 . Если
необходимо, установите поддержку сетевой файловой системы командой sudo
apt-get install smbfs .&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 20 Sep 2010 15:21:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-09-20:shared-folder-in-active-directory.html</guid></item><item><title>Что такое django gis</title><link>http://dicos.ru/what-is-django-gis.html</link><description>&lt;p&gt;django gis это такой компонент джанги, который позволяет работать с
картографическими объектами. То есть вместо картографических примитивов
наподобие &amp;quot;граница&amp;quot;, &amp;quot;дерево&amp;quot;, &amp;quot;дорога&amp;quot; есть многоугольник, точка,
(мульти-)линия. С такими объектами очень легко работать, например, нужно
узнать пересекает ли дорога границу области. Делается это так:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt; from django.contrib.gis.geos import LineString&lt;/div&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt; from django.contrib.gis.geos import Polygon&lt;/div&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt; # пусть у нас будет&amp;nbsp; граница области в виде квадрата, как в
США.&lt;/div&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt; distict = Polygon( ((0.0, 0.0), (0.0, 50.0), (50.0, 50.0),
(50.0, 0.0), (0.0, 0.0)) )&lt;/div&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt;# а дороги прямыми-прямыми&lt;/div&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt; way = LineString((-25,25), (75,25))&lt;/div&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt;# сравниваем&lt;/div&gt;
&lt;div class="line"&gt;&amp;gt;&amp;gt;&amp;gt; distinct.intersects(way)&lt;/div&gt;
&lt;div class="line"&gt;True&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Как видно, нет ни чего сложного.&lt;/p&gt;
&lt;p&gt;Эти примитивы можно хранить в базе данных, извлекать из базы данных и
делать фильтрацию данных. Почти все СУБД, которые работают с джанго
умеют работать или их можно &amp;quot;научить&amp;quot; работать с географическими
данными, подробнее рассказано в &lt;a class="reference external" href="http://docs.djangoproject.com/en/dev/ref/contrib/gis/install/#spatial-database"&gt;официальной
документации&lt;/a&gt;.
Все системы управления базами данных имеют свои
&lt;a class="reference external" href="http://docs.djangoproject.com/en/dev/ref/contrib/gis/db-api/#compatibility-tables"&gt;ограничения&lt;/a&gt;,
которые также нужно учитывать при разработке.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 25 Aug 2010 11:31:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-08-25:what-is-django-gis.html</guid></item><item><title>mail.agent в pidgin-e</title><link>http://dicos.ru/mail-agent-in-pidgin.html</link><description>&lt;p&gt;Способ как подключить mail.Агент к pidgin-у.
&lt;a class="reference external" href="http://z00lus.blogspot.com/2009/09/pidgin-mailru-agent.html"&gt;http://z00lus.blogspot.com/2009/09/pidgin-mailru-agent.html&lt;/a&gt;. Для
подключения нужно иметь аккаунт на
&lt;a class="reference external" href="http://www.jabber.ru/"&gt;jabber.ru&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Теперь я буду знать о том, что ко мне пришло письмо гораздо быстрее.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 26 Jul 2010 21:11:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-07-26:mail-agent-in-pidgin.html</guid></item><item><title>Ошибка в django-gis</title><link>http://dicos.ru/cannot-import-namegqn.html</link><description>&lt;p&gt;После перезагрузки рабочего компьютера с windows server 2003 меня
порадовала джанга такой ошибкой:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;F:\web\realtor\mailTooDatabaseBot&amp;gt;retrieveMail.py&lt;/div&gt;
&lt;div class="line"&gt;C:\Python26\lib\site-packages\django\contrib\gis\db\backend\__init__.py:6:&lt;/div&gt;
&lt;div class="line"&gt;UserWarning: The `django.contrib.gis.db.backend` module was
refactored and&amp;nbsp; to `django.contrib.gis.db.backends` in 1.2.&amp;nbsp; All
functionality of `SpatialBackend` has been moved to the `ops`
attribute of the spatial database backend.&amp;nbsp; A `SpatialBackend`
alias is provided here for backwards-compatibility, but will be
removed in 1.3.&lt;/div&gt;
&lt;div class="line"&gt;warn('The `django.contrib.gis.db.backend` module was refactored
and '&lt;/div&gt;
&lt;div class="line"&gt;Traceback (most recent call last):&lt;/div&gt;
&lt;div class="line"&gt;File &amp;quot;F:\web\realtor\mailTooDatabaseBot\retrieveMail.py&amp;quot;, line
23, in &amp;lt;module&amp;gt;&lt;/div&gt;
&lt;div class="line"&gt;from arenda.models import Area, Street, Apartment, Matherial&lt;/div&gt;
&lt;div class="line"&gt;File &amp;quot;F:\web\****\models.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;&lt;/div&gt;
&lt;div class="line"&gt;from django.contrib.gis.db import models&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;C:\Python26\lib\site-packages\django\contrib\gis\db\models\__init__.py&amp;quot;,
line 5, in &amp;lt;module&amp;gt;&lt;/div&gt;
&lt;div class="line"&gt;from django.contrib.gis.db.models.aggregates import *&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;C:\Python26\lib\site-packages\django\contrib\gis\db\models\aggregates.py&amp;quot;,
line 2, in &amp;lt;module&amp;gt;&lt;/div&gt;
&lt;div class="line"&gt;from django.contrib.gis.db.models.sql import GeomField&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;C:\Python26\lib\site-packages\django\contrib\gis\db\models\sql\__init__.py&amp;quot;,
line 2, in &amp;lt;module&amp;gt;&lt;/div&gt;
&lt;div class="line"&gt;from django.contrib.gis.db.models.sql.query import GeoQuery&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;C:\Python26\lib\site-packages\django\contrib\gis\db\models\sql\query.py&amp;quot;,
line 4, in &amp;lt;module&amp;gt;&lt;/div&gt;
&lt;div class="line"&gt;from django.contrib.gis.db.models.fields import GeometryField&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;C:\Python26\lib\site-packages\django\contrib\gis\db\models\fields\__init__.py&amp;quot;,
line 3, in &amp;lt;module&amp;gt;&lt;/div&gt;
&lt;div class="line"&gt;from django.contrib.gis.db.backend import SpatialBackend, gqn&lt;/div&gt;
&lt;div class="line"&gt;ImportError: cannot import name gqn&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Из-за чего это происходит: в файле
django\contrib\gis\db\models\sql\query.py происходит импорт из
модуля fields класс GeometryField. Грубо говоря, под модулем можно
понимать файл, находящийся в этом же каталоге, так и пакет --
подкаталог, в котором есть файл __init__.py. Что у нас происходило:
в каталоге django/contrib/gis/db/models у нас есть файл fields.py и
каталог fields. Видимо, приоритет при импорте выше у пакетов, чем у
файлов, поэтому загружался ненужный нам (как оказалось устаревший)
пакет.&lt;/p&gt;
&lt;p&gt;Решилось очень просто: так как каталог fields был оставлен только для
совместимости с предыдущими версиями, то его переименовал на
fields__temp, ибо вдруг еще пригодится.&lt;/p&gt;
&lt;p&gt;UPD: не у одного у меня такая же возникала проблема, решение проблемы
такое же
&lt;a class="reference external" href="http://groups.google.com/group/geodjango/browse_thread/thread/88fc94ed57ab153d"&gt;http://groups.google.com/group/geodjango/browse_thread/thread/88fc94ed57ab153d&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 19 Jul 2010 15:51:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-07-19:cannot-import-namegqn.html</guid></item><item><title>Установка django-gis</title><link>http://dicos.ru/setup-django-gis.html</link><description>&lt;p&gt;Я постараюсь описать установку geo django так как я делал у себя на
машинах с установленными операционными системами линукс (убунту), так и
виндовс (сервер 2003). В качестве СУБД выбрал postgres&lt;/p&gt;
&lt;p&gt;Установка на убунту 10.04: Итак, для начала нам надо установить все
необходимые компоненты командой&lt;/p&gt;
&lt;pre class="literal-block"&gt;
apt-get install binutils libgdal1-1.6.0&amp;nbsp; postgresql-8.4-postgis postgresql-server-dev-8.4
libgeoip1 gdal-bin python-gdal libgeos-c1&amp;nbsp; libgeos-dev proj binutils bzip2 gcc g++ flex make
python-ctypes xml2-config libxml2-dev python-libxml2 xml2
&lt;/pre&gt;
&lt;p&gt;Тут я перечислил версии пакетов которые поддерживаются моим домашним
компьютером (ubuntu 10.04). Если стоит более новая система, то лучше
всего устанавливать новые версии пакетов. Версии пакетов определяют
цифры в названиях пакетов. Чтобы узнать список пакетов, достаточно
выполнить команду &amp;quot;aptitude search неполное_название_пакета&amp;quot;, например
найдем пакеты, содержащие название &amp;quot;libgeos&amp;quot;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
aptitude search libgeos
i ibgeos-3.1.0 - Geometry engine for Geographic Information Systems - C++ Library
i libgeos-c1 - Geometry engine for Geographic Information Systems - C Library
p libgeos-dev - Geometry engine for GIS - Development files
p libgeos-doc - Documentation for the GEOS GIS geometry engine library
p libgeosruby1.8 - GEOS bindings for Ruby
&lt;/pre&gt;
&lt;p&gt;После того как успешно установили все эти пакеты, приступим к созданию
шаблона пространственных баз данных. Я не стал заморачиваться установкой
вручную, как это описано на странице оф. документации, а взял готовый
скрипт с этой же страницы. К сожалению, скрипт не заработал. Проблема
была в том, что в указанном пути отсутствовали файлы для установки
пространственной базы данных. Воспользовавшись поиском в mc нужно найти
каталог, в котором содержится файл spatial_ref_sys.sql. Этот каталог и
нужно было подставить в переменную POSTGIS_SQL_PATH. Для начала можно
попробовать запустить sh скрипты, которые представлены в оф.
документации. Если эти скрипты не заработают, представляю свою &lt;a class="reference external" href="http://dicos.ru/wp-content/uploads/2010/06/create_template_postgis.sh.tar"&gt;версию
установщика базы
даннх&lt;/a&gt;.
Внутри архива 2 скрипта с версиями 1.3 и 1.4 первый предназначен для
постгреса версии 8.3 а второй для версии 8.4.&lt;/p&gt;
&lt;p&gt;Эти скрипты нужно выполнять от имени пользователя postgres. Сейчас я
покажу на примере установки на постгрес версии 8.3:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
root&amp;#64;server: su postgres
postgres&amp;#64;server: sh create\_template\_postgis-1.3.sh
&lt;/pre&gt;
&lt;p&gt;Если все выполнено верно, то последние слова будут такие:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
COMMIT
VACUUM
GRANT
GRANT
&lt;/pre&gt;
&lt;p&gt;Но если заканчивается словами «ERROR: relation &amp;quot;spatial_ref_sys&amp;quot; does
not exist» то, перед тем, как запустить другой скрипт нужно будет
удалить уже созданную базу данных. Я сделал это так: запустил
pgAdminIII, залез в базу данных postgres, потом в &amp;quot;каталоги&amp;quot;, там выбрал
каталог PostgreSQL, далее перешел в &amp;quot;таблицы&amp;quot;, нажал правой кнопкой мыши
на таблицу pg_database, в раскрывшемся списке выбрал пункт показать
&amp;quot;все строки&amp;quot;. Значение ячейки, находящуюся в столбце datistemplate и
строке template_postgis изменил на False.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="//img-fotki.yandex.ru/get/109111/44073636.2/0_132f26_36c6aa40_orig"&gt;&lt;img alt="image0" src="//img-fotki.yandex.ru/get/109111/44073636.2/0_132f26_36c6aa40_L.png" style="width: 456px; height: 500px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="//img-fotki.yandex.ru/get/62989/44073636.2/0_132e3a_60635f3c_orig"&gt;&lt;img alt="image1" src="//img-fotki.yandex.ru/get/62989/44073636.2/0_132e3a_60635f3c_L.png" style="width: 500px; height: 157px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Установить также просто на убунту 8.04 у меня не получилось. Дело в том,
что там лежат уже старые версии библиотек, а django-gis требует более
новые. Поэтому нужно все собирать вручную. Все не так страшно как
кажется: в документации написаны
&lt;a class="reference external" href="http://docs.djangoproject.com/en/1.2/ref/contrib/gis/install/#geos"&gt;команды&lt;/a&gt;,
которые просто нужно последовательно вводить в консоль.&lt;/p&gt;
&lt;p&gt;Установка под виндовс такая: устанавливаем постгрес 8.4, далее качаем
psycopg2 -- это связующее звено между постгресом и питоном. Затем
устанавливаем &lt;a class="reference external" href="http://geodjango.org/windows/GeoDjango_Installer.exe"&gt;GeoDjango
Installer&lt;/a&gt;.
После того, как установили, проверяем переменные среды: для этого
щелкаем правой кнопкой на «мой компьютер», далее переходим на вкладку
«дополнительно». Нажимаем на кнопку «переменные среды», и правим пути в
которых есть слово postgres. В этих путях нужно заменить 8.3 на 8.4
Иначе выпрыгнет ошибка «django.core.exceptions.ImproperlyConfigured:
Could not import user-defined GEOMETRY_BACKEND &amp;quot;geos&amp;quot;». То есть нам
надо заменить:&lt;/p&gt;
&lt;p&gt;C:\Program Files\PostgreSQL\8.3\bin; на C:\Program
Files\PostgreSQL\8.4\bin&lt;/p&gt;
&lt;p&gt;То есть:
&lt;a class="reference external" href="//img-fotki.yandex.ru/get/128901/44073636.2/0_132e3b_be06866e_orig"&gt;&lt;img alt="image2" src="//img-fotki.yandex.ru/get/128901/44073636.2/0_132e3b_be06866e_L.gif" style="width: 500px; height: 478px;" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;После всех этих махинаций у нас все должно работать. Если что не
понятно, пишите на почту.&lt;/p&gt;
&lt;p&gt;документация по установке geodjango (англ.) -- &lt;a class="reference external" href="http://docs.djangoproject.com/en/1.2/ref/contrib/gis/install/"&gt;http://docs.djangoproject.com/en/1.2/ref/contrib/gis/install/&lt;/a&gt;
оф. сайт psycopg2 -- &lt;a class="reference external" href="http://www.stickpeople.com/projects/python/win-psycopg/"&gt;http://www.stickpeople.com/projects/python/win-psycopg/&lt;/a&gt;&lt;/p&gt;
&lt;div id="_mcePaste"
style="position: absolute; left: -10000px; top: 627px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden; text-align: left;"&gt;&lt;p&gt;&lt;a class="reference external" href="http://www.google.com/search?hl=ru&amp;amp;pwst=1&amp;amp;&amp;amp;sa=X&amp;amp;ei=t88gTIucFIq6ONPN0Gs&amp;amp;ved=0CBUQvwUoAQ&amp;amp;q=ERROR%3A+relation+%22spatial_ref_sys%22+does+not+exist&amp;amp;spell=1"&gt;ERROR: relation &amp;quot;spatial_ref_sys&amp;quot; does not
***exist***&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Wed, 07 Jul 2010 09:12:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-07-07:setup-django-gis.html</guid></item><item><title>Нет DjangoUnicodeDecodeError</title><link>http://dicos.ru/djangounicodedecodeerror.html</link><description>&lt;p&gt;Недавно администрировал сервер, нужно было установить работающий проект.
Сразу отмечу, что в качестве СУБД был взят MySQL, так как он уже был
установлен и настроен. База данных успешно была создана, кодировка этой
базы utf8. Но начав помещать тестовые данные столкнулся с пролемой:&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;TemplateSyntaxError at /admin/staff/color/&lt;/div&gt;
&lt;div class="line"&gt;Caught DjangoUnicodeDecodeError while rendering: ('ascii',
'\xd0\x9f\xd0\xb5\xd0\xbf\xd0\xb5\xd0\xbb\xd1\x8c\xd0\xbd\xd1\x8b\xd0\xb9',
0, 1, 'ordinal not in range(128)')&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Request Method: GET&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line"&gt;Request URL: &lt;a class="reference external" href="http://******/admin/staff/color/"&gt;http://******/admin/staff/color/&lt;/a&gt;&lt;/div&gt;
&lt;div class="line"&gt;Django Version: 1.2.1&lt;/div&gt;
&lt;div class="line"&gt;Exception Type: TemplateSyntaxError&lt;/div&gt;
&lt;div class="line"&gt;Exception Value:&lt;/div&gt;
&lt;div class="line"&gt;Caught DjangoUnicodeDecodeError while rendering: ('ascii',
'\xd0\x9f\xd0\xb5\xd0\xbf\xd0\xb5\xd0\xbb\xd1\x8c\xd0\xbd\xd1\x8b\xd0\xb9',
0, 1, 'ordinal not in range(128)')&lt;/div&gt;
&lt;div class="line"&gt;Exception Location:
/usr/local/lib/python2.6/dist-packages/django/utils/encoding.py in
force_unicode, line 88&lt;/div&gt;
&lt;div class="line"&gt;Python Executable: /usr/bin/python&lt;/div&gt;
&lt;div class="line"&gt;.............................................................................................&lt;/div&gt;
&lt;div class="line"&gt;Template error&lt;/div&gt;
&lt;div class="line"&gt;In template
/usr/local/lib/python2.6/dist-packages/django/contrib/admin/templates/admin/change_list.html,
error at line 95&lt;/div&gt;
&lt;div class="line"&gt;или In template
/usr/local/lib/python2.6/dist-packages/django/contrib/admin/templates/admin/index.html,
error at line 70&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Разрешил эту проблему так: удалил все таблицы, затем задал кодировку
базы данных utf8, а сопоставление
``utf8_general_ci (раньше сопоставление имело значение utf8_bin) ``таким
запросом:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;``ALTER DATABASE `db_akula` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci``&lt;/p&gt;
&lt;p&gt;Caught DjangoUnicodeDecodeError while rendering: ('ascii', 'xd0x9fxd0xb5xd0xbfxd0xb5xd0xbbxd1x8cxd0xbdxd1x8bxd0xb9', 0, 1, 'ordinal not in range(128)')&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="50%" /&gt;
&lt;col width="50%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;Request Method:&lt;/td&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Request URL:&lt;/td&gt;
&lt;td&gt;&lt;a class="reference external" href="http://db.dicos.ru/admin/staff/color"&gt;http://db.dicos.ru/admin/staff/color&lt;/a&gt;
/&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Django Version:&lt;/td&gt;
&lt;td&gt;1.2.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Exception Type:&lt;/td&gt;
&lt;td&gt;TemplateSyntaxError&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Exception Value:&lt;/td&gt;
&lt;td&gt;&lt;p class="first"&gt;::&lt;/p&gt;
&lt;p class="last"&gt;Caught DjangoUnicodeDecodeError
while rendering: ('ascii', 'xd0x9f
xd0xb5xd0xbfxd0xb5xd0xbbxd1
x8cxd0xbdxd1x8bxd0xb9', 0, 1,
'ordinal not in range(128)')&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Exception Location:&lt;/td&gt;
&lt;td&gt;/usr/local/lib/python2.6/dist-packag
es/django/utils/encoding.py
in force_unicode, line 88&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Python Executable:&lt;/td&gt;
&lt;td&gt;/usr/bin/python&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Python Version:&lt;/td&gt;
&lt;td&gt;2.6.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Python Path:&lt;/td&gt;
&lt;td&gt;['/usr/lib/python2.6',
'/usr/lib/python2.6/plat-linux2',
'/usr/lib/python2.6/lib-tk',
'/usr/lib/python2.6/lib-old',
'/usr/lib/python2.6/lib-dynload',
'/usr/lib/python2.6/dist-packages',
'/usr/lib/pymodules/python2.6',
'/usr/lib/pymodules/python2.6/gtk-2.
0',
'/usr/local/lib/python2.6/dist-packa
ges',
'/home/db_akula/www/']&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Server time:&lt;/td&gt;
&lt;td&gt;Пнд, 31 Май 2010 17:58:02 +0700&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 31 May 2010 18:15:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-05-31:djangounicodedecodeerror.html</guid></item><item><title>treebeard не сохраняет данные в админке</title><link>http://dicos.ru/treebeard-not-save-admin.html</link><description>&lt;p&gt;Сегодня, после обновления джанги до 1.2 появился косяк с модулем
&lt;a class="reference external" href="https://tabo.pe/projects/django-treebeard/docs/tip/"&gt;treebeard&lt;/a&gt;.
Этот модуль я использую для построения дерева документов. На лицевой
части все работало идеально, но в админке данные не хотели сохраняться.
То есть документы добавлялись, но вот изменить их было невозможно (после
изменения какого-нибудь поля и нажатия кнопки «сохранить» данные ни где
не изменялись) . И в довершении, после любого сохранения ко всему вверху
была надпись:&lt;/p&gt;
&lt;blockquote&gt;
page &amp;quot;Главная&amp;quot; был успешно изменен. Ниже вы можете снова его
отредактировать.&lt;/blockquote&gt;
&lt;p&gt;Решение проблемы довольно простое: надо обновить treebeard до
разрабатываемой версии либо при помощи mercurial либо &lt;a class="reference external" href="http://code.tabo.pe/django-treebeard/src"&gt;скачав с
сайта&lt;/a&gt; архив. Архивы
предоставляются на выбор: gz, zip и bz2. P.S. список архивов можно
увидеть, наведя на текст в правом углу «get source»&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sat, 22 May 2010 12:47:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-05-22:treebeard-not-save-admin.html</guid></item><item><title>Как определить кодировку строки в питоне</title><link>http://dicos.ru/how-encoding-string.html</link><description>&lt;p&gt;Для этого создана библиотека
&lt;a class="reference external" href="http://chardet.feedparser.org/"&gt;chardet&lt;/a&gt;. Мне она пригодилась для
написания парсера писем, приходящих по рассылке в тогда неизвестной мне
кодировке.&lt;/p&gt;
&lt;p&gt;Для того, чтобы ею воспользоваться, нужно распаковать архив, и потом
выполнить команду python setup.py с правами рута. Если не охота это
делать, то можно просто скопировать каталог chardet в рабочую папку.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sat, 15 May 2010 12:35:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-05-15:how-encoding-string.html</guid></item><item><title>Полезные команды linux</title><link>http://dicos.ru/best-commands.html</link><description>&lt;p&gt;Наткнулся сегодня на достаточно полезный, на мой взгляд, &lt;a class="reference external" href="http://www.lyabah.com/index.php/2010/02/03/%D1%83%D0%B7%D0%BD%D0%B0%D0%B5%D0%BC-%D0%B1%D0%BE%D0%BB%D1%8C%D1%88%D0%B5-%D0%BE-%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%B5/"&gt;список
команд&lt;/a&gt;.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 07 May 2010 12:06:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-05-07:best-commands.html</guid></item><item><title>treebeard выдало сообщение об ошибке</title><link>http://dicos.ru/treebeard-error.html</link><description>&lt;p&gt;После того, как я выложил на рабочий сервер свой проект, часть сайта,
доступная простым смертным работала нормально с тестовыми данными. Не
работала только закрытая часть, то есть админка. Вернее модуль,
позволяющий создавать страницы с текстом сообщал мне об ошибке.&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;TemplateSyntaxError at /admin/pages/pages/&lt;/div&gt;
&lt;div class="line"&gt;Caught an exception while rendering: Failed lookup for key
[request] in u'[{\'action_index\': 0, \'block\': &amp;lt;Block Node:
result_list. Contents: [&amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;, &amp;lt;django.template.SimpleNode object at
0x1327a890&amp;gt;, &amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node:
\'\n\'&amp;gt;]&amp;gt;}, {\'block\': &amp;lt;Block Node: content. Contents:
[&amp;lt;Text Node: \'\n &amp;lt;div id=&amp;quot;content-main&amp;quot;\'&amp;gt;, &amp;lt;Block Node:
object-tools. Contents: [&amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;]&amp;gt;, &amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text
Node: \'\n &amp;lt;div class=&amp;quot;module\'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'&amp;quot;
id=&amp;quot;changelist&amp;quot;&amp;gt;\n \'&amp;gt;, &amp;lt;Block Node: search. Contents:
[&amp;lt;django.template.InclusionNode object at 0x13243310&amp;gt;]&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;, &amp;lt;Block Node: date_hierarchy. Contents:
[&amp;lt;django.template.InclusionNode object at 0x132430d0&amp;gt;]&amp;gt;, &amp;lt;Text
Node: \'\n\n \'&amp;gt;, &amp;lt;Block Node: filters. Contents: [&amp;lt;Text Node:
\'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'\n \'&amp;gt;]&amp;gt;, &amp;lt;Text Node:
\'\n \n &amp;lt;form actio\'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'&amp;gt;\n \'&amp;gt;,
&amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'\n\n \'&amp;gt;, &amp;lt;Block Node: result_list.
Contents: [&amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'\n
\'&amp;gt;, &amp;lt;django.template.SimpleNode object at 0x1327a890&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'\n\'&amp;gt;]&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;, &amp;lt;Block Node: pagination. Contents:
[&amp;lt;django.template.InclusionNode object at 0x13256a90&amp;gt;]&amp;gt;, &amp;lt;Text
Node: \'\n &amp;lt;/form&amp;gt;\n &amp;lt;/div&amp;gt;\'&amp;gt;]&amp;gt;}, {\'actions_on_bottom\':
False, \'cl\': &amp;lt;django.contrib.admin.views.main.ChangeList
object at 0x1324ec90&amp;gt;, \'has_add_permission\': True,
\'media\': &amp;lt;django.forms.widgets.Media object at 0x1327a450&amp;gt;,
\'root_path\': None, \'action_form\':
&amp;lt;django.contrib.admin.helpers.ActionForm object at 0x1327a6d0&amp;gt;,
\'actions_on_top\': True, \'app_label\': \'pages\',
\'is_popup\': False, \'title\':
u\'\\u0412\\u044b\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435
pages \\u0434\\u043b\\u044f
\\u0438\\u0437\\u043c\\u0435\\u043d\\u0435\\u043d\\u0438\\u044f\'},
{\'this_url\': u\'/admin/pages/pages/\'}, {\'MEDIA_URL\':
\'/media/\'}, {\'LANGUAGES\': ((\'ar\', \'Arabic\'),
(\'bn\', \'Bengali\'), (\'bg\', \'Bulgarian\'), (\'ca\',
\'Catalan\'), (\'cs\', \'Czech\'), (\'cy\', \'Welsh\'),
(\'da\', \'Danish\'), (\'de\', \'German\'), (\'el\',
\'Greek\'), (\'en\', \'English\'), (\'es\',
\'Spanish\'), (\'et\', \'Estonian\'), (\'es-ar\',
\'Argentinean Spanish\'), (\'eu\', \'Basque\'), (\'fa\',
\'Persian\'), (\'fi\', \'Finnish\'), (\'fr\',
\'French\'), (\'ga\', \'Irish\'), (\'gl\',
\'Galician\'), (\'hu\', \'Hungarian\'), (\'he\',
\'Hebrew\'), (\'hi\', \'Hindi\'), (\'hr\',
\'Croatian\'), (\'is\', \'Icelandic\'), (\'it\',
\'Italian\'), (\'ja\', \'Japanese\'), (\'ka\',
\'Georgian\'), (\'ko\', \'Korean\'), (\'km\',
\'Khmer\'), (\'kn\', \'Kannada\'), (\'lv\',
\'Latvian\'), (\'lt\', \'Lithuanian\'), (\'mk\',
\'Macedonian\'), (\'nl\', \'Dutch\'), (\'no\',
\'Norwegian\'), (\'pl\', \'Polish\'), (\'pt\',
\'Portuguese\'), (\'pt-br\', \'Brazilian Portuguese\'),
(\'ro\', \'Romanian\'), (\'ru\', \'Russian\'), (\'sk\',
\'Slovak\'), (\'sl\', \'Slovenian\'), (\'sr\',
\'Serbian\'), (\'sv\', \'Swedish\'), (\'ta\',
\'Tamil\'), (\'te\', \'Telugu\'), (\'th\', \'Thai\'),
(\'tr\', \'Turkish\'), (\'uk\', \'Ukrainian\'),
(\'zh-cn\', \'Simplified Chinese\'), (\'zh-tw\',
\'Traditional Chinese\')), \'LANGUAGE_BIDI\': False,
\'LANGUAGE_CODE\': \'ru\'}, {}, {\'perms\':
&amp;lt;django.core.context_processors.PermWrapper object at
0x1327aa50&amp;gt;, \'messages\': [], \'user\': &amp;lt;User: root&amp;gt;}, {}]'&lt;/div&gt;
&lt;div class="line"&gt;Original Traceback (most recent call last):&lt;/div&gt;
&lt;div class="line"&gt;File &amp;quot;/usr/lib/python2.5/site-packages/django/template/debug.py&amp;quot;,
line 71, in render_node&lt;/div&gt;
&lt;div class="line"&gt;result = node.render(context)&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/usr/lib/python2.5/site-packages/django/template/__init__.py&amp;quot;,
line 908, in render&lt;/div&gt;
&lt;div class="line"&gt;resolved_vars = [var.resolve(context) for var in
self.vars_to_resolve]&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/usr/lib/python2.5/site-packages/django/template/__init__.py&amp;quot;,
line 687, in resolve&lt;/div&gt;
&lt;div class="line"&gt;value = self._resolve_lookup(context)&lt;/div&gt;
&lt;div class="line"&gt;File
&amp;quot;/usr/lib/python2.5/site-packages/django/template/__init__.py&amp;quot;,
line 740, in _resolve_lookup&lt;/div&gt;
&lt;div class="line"&gt;raise VariableDoesNotExist(&amp;quot;Failed lookup for key [%s] in %r&amp;quot;,
(bit, current)) # missing attribute&lt;/div&gt;
&lt;div class="line"&gt;VariableDoesNotExist: Failed lookup for key [request] in
u'[{\'action_index\': 0, \'block\': &amp;lt;Block Node:
result_list. Contents: [&amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;, &amp;lt;django.template.SimpleNode object at
0x1327a890&amp;gt;, &amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node:
\'\n\'&amp;gt;]&amp;gt;}, {\'block\': &amp;lt;Block Node: content. Contents:
[&amp;lt;Text Node: \'\n &amp;lt;div id=&amp;quot;content-main&amp;quot;\'&amp;gt;, &amp;lt;Block Node:
object-tools. Contents: [&amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;]&amp;gt;, &amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text
Node: \'\n &amp;lt;div class=&amp;quot;module\'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'&amp;quot;
id=&amp;quot;changelist&amp;quot;&amp;gt;\n \'&amp;gt;, &amp;lt;Block Node: search. Contents:
[&amp;lt;django.template.InclusionNode object at 0x13243310&amp;gt;]&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;, &amp;lt;Block Node: date_hierarchy. Contents:
[&amp;lt;django.template.InclusionNode object at 0x132430d0&amp;gt;]&amp;gt;, &amp;lt;Text
Node: \'\n\n \'&amp;gt;, &amp;lt;Block Node: filters. Contents: [&amp;lt;Text Node:
\'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'\n \'&amp;gt;]&amp;gt;, &amp;lt;Text Node:
\'\n \n &amp;lt;form actio\'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'&amp;gt;\n \'&amp;gt;,
&amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'\n\n \'&amp;gt;, &amp;lt;Block Node: result_list.
Contents: [&amp;lt;Text Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'\n
\'&amp;gt;, &amp;lt;django.template.SimpleNode object at 0x1327a890&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;, &amp;lt;If node&amp;gt;, &amp;lt;Text Node: \'\n\'&amp;gt;]&amp;gt;, &amp;lt;Text
Node: \'\n \'&amp;gt;, &amp;lt;Block Node: pagination. Contents:
[&amp;lt;django.template.InclusionNode object at 0x13256a90&amp;gt;]&amp;gt;, &amp;lt;Text
Node: \'\n &amp;lt;/form&amp;gt;\n &amp;lt;/div&amp;gt;\'&amp;gt;]&amp;gt;}, {\'actions_on_bottom\':
False, \'cl\': &amp;lt;django.contrib.admin.views.main.ChangeList
object at 0x1324ec90&amp;gt;, \'has_add_permission\': True,
\'media\': &amp;lt;django.forms.widgets.Media object at 0x1327a450&amp;gt;,
\'root_path\': None, \'action_form\':
&amp;lt;django.contrib.admin.helpers.ActionForm object at 0x1327a6d0&amp;gt;,
\'actions_on_top\': True, \'app_label\': \'pages\',
\'is_popup\': False, \'title\':
u\'\\u0412\\u044b\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435
pages \\u0434\\u043b\\u044f
\\u0438\\u0437\\u043c\\u0435\\u043d\\u0435\\u043d\\u0438\\u044f\'},
{\'this_url\': u\'/admin/pages/pages/\'}, {\'MEDIA_URL\':
\'/media/\'}, {\'LANGUAGES\': ((\'ar\', \'Arabic\'),
(\'bn\', \'Bengali\'), (\'bg\', \'Bulgarian\'), (\'ca\',
\'Catalan\'), (\'cs\', \'Czech\'), (\'cy\', \'Welsh\'),
(\'da\', \'Danish\'), (\'de\', \'German\'), (\'el\',
\'Greek\'), (\'en\', \'English\'), (\'es\',
\'Spanish\'), (\'et\', \'Estonian\'), (\'es-ar\',
\'Argentinean Spanish\'), (\'eu\', \'Basque\'), (\'fa\',
\'Persian\'), (\'fi\', \'Finnish\'), (\'fr\',
\'French\'), (\'ga\', \'Irish\'), (\'gl\',
\'Galician\'), (\'hu\', \'Hungarian\'), (\'he\',
\'Hebrew\'), (\'hi\', \'Hindi\'), (\'hr\',
\'Croatian\'), (\'is\', \'Icelandic\'), (\'it\',
\'Italian\'), (\'ja\', \'Japanese\'), (\'ka\',
\'Georgian\'), (\'ko\', \'Korean\'), (\'km\',
\'Khmer\'), (\'kn\', \'Kannada\'), (\'lv\',
\'Latvian\'), (\'lt\', \'Lithuanian\'), (\'mk\',
\'Macedonian\'), (\'nl\', \'Dutch\'), (\'no\',
\'Norwegian\'), (\'pl\', \'Polish\'), (\'pt\',
\'Portuguese\'), (\'pt-br\', \'Brazilian Portuguese\'),
(\'ro\', \'Romanian\'), (\'ru\', \'Russian\'), (\'sk\',
\'Slovak\'), (\'sl\', \'Slovenian\'), (\'sr\',
\'Serbian\'), (\'sv\', \'Swedish\'), (\'ta\',
\'Tamil\'), (\'te\', \'Telugu\'), (\'th\', \'Thai\'),
(\'tr\', \'Turkish\'), (\'uk\', \'Ukrainian\'),
(\'zh-cn\', \'Simplified Chinese\'), (\'zh-tw\',
\'Traditional Chinese\')), \'LANGUAGE_BIDI\': False,
\'LANGUAGE_CODE\': \'ru\'}, {}, {\'perms\':
&amp;lt;django.core.context_processors.PermWrapper object at
0x1327aa50&amp;gt;, \'messages\': [], \'user\': &amp;lt;User: root&amp;gt;}, {}]'&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Сделаю небольшое лирическое отступление, &lt;a class="reference external" href="https://tabo.pe/projects/django-treebeard/docs/1.60/index.html"&gt;treebeard&lt;/a&gt; это
модуль для django, хранить информацию в виде деревьев. Для решения
задачи создания каталога страниц этот модуль очень подходит. Чем он
хорош: умеет работать по технологиям nested sets, materialized path и
adjacence list. Кроме того, у него отличная документация.&lt;/p&gt;
&lt;p&gt;Так вот, из-за плохого чтения оной меня покарал Бог. На домашнем и
находящимся на работе компьютером проблем ни каких не возникало.&lt;/p&gt;
&lt;p&gt;В документации четко написано, что если используете в этот модуль в
блоке администраторов, то нужно прописать путь
&lt;a class="reference external" href="http://docs.djangoproject.com/en/dev/ref/settings/#template-dirs"&gt;TEMPLATE_DIRS&lt;/a&gt; до
шаблонов treebeard (в моем случае это
/usr/lib/python2.5/site-packages/treebeard/templates/) а также добавить
&lt;a class="reference external" href="http://docs.djangoproject.com/en/dev/ref/templates/api/#django-core-context-processors-request"&gt;django-core-context-processors-request&lt;/a&gt; в
&lt;a class="reference external" href="http://docs.djangoproject.com/en/dev/ref/settings/#template-context-processors"&gt;TEMPLATE_CONTEXT_PROCESSORS&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 25 Apr 2010 22:58:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-04-25:treebeard-error.html</guid></item><item><title>Создать пользователя с домашним каталогом</title><link>http://dicos.ru/how-create-user-with-home-catalog.html</link><description>&lt;p&gt;useradd -m user_name&lt;/p&gt;
&lt;p&gt;Хорошая статья по управлению пользователями в линуксе на сайте
&lt;a class="reference external" href="http://stfw.ru/page.php?id=9945"&gt;STFW.RU&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Полный список опций взял с этого же сайта:&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;-с комментарий Описание учетной записи. Как правило, это всего лишь
полное имя пользователя.&lt;/div&gt;
&lt;div class="line"&gt;-d домашний каталог Домашний каталог пользователя. По умолчанию
значение этого параметра совпадает с регистрационным именем
пользователя. Как правило, домашний каталог пользователя размещается в
каталоге /home.&lt;/div&gt;
&lt;div class="line"&gt;-D Указывает на необходимость сохранения предоставленной информации в
качестве новой стандартной настройки для всех вновь создаваемых
учетных записей (учетная запись при этом не создается).&lt;/div&gt;
&lt;div class="line"&gt;-e конечный_срок_ Срок истечения действия учетной записи_действия&lt;/div&gt;
&lt;div class="line"&gt;-f срок бездействия Количество дней после окончания срока действия
пароля, по прошествии которых учетная запись пользователя будет
удалена. По умолчанию данный параметр имеет значение -1, что указывает
на необходимость его игнорирования.&lt;/div&gt;
&lt;div class="line"&gt;-g группа Первичная группа пользователя.&lt;/div&gt;
&lt;div class="line"&gt;-G список_групп Добавление пользователя в указанный список групп,
разделенных запятыми.&lt;/div&gt;
&lt;div class="line"&gt;-k эталонный_каталог Определяет структуру каталога, включающую в себя
файлы первоначальной конфигурации и сценарии регистрации, которые
должны быть скопированы в домашний каталог пользователя. Этот параметр
может быть использован только вместе с параметром -m.&lt;/div&gt;
&lt;div class="line"&gt;-m Автоматическое создание домашнего каталога пользователя и
копирование в него файлов «эталонного» каталога (/etc/skel).&lt;/div&gt;
&lt;div class="line"&gt;-M Запрещает создание домашнего каталога пользователя, даже если это
предусмотрено по умолчанию.&lt;/div&gt;
&lt;div class="line"&gt;-n Запрещает создание новой группы, соответствующей имени и
идентификационноиу номеру пользователя, которая обычно создается по
умолчанию.&lt;/div&gt;
&lt;div class="line"&gt;-r Создать учетную запись с идентификационным номером пользователя,
который принадлежит диапазону, зарезервированному для системных
учетных записей.&lt;/div&gt;
&lt;div class="line"&gt;-s оболочка Командная оболочка, которая должна быть ассоциирована с
данной учетной записью пользователя.&lt;/div&gt;
&lt;div class="line"&gt;-u идентиф._номер Идентификационный номер пользователя. По умолчанию
автоматически задается следующий по порядку доступный номер.&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 25 Apr 2010 21:57:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-04-25:how-create-user-with-home-catalog.html</guid></item><item><title>Фото галерея на sorl-thumbnail</title><link>http://dicos.ru/sorl-thumbnail.html</link><description>&lt;p&gt;Некогда я рассказал о своем опыте пользования фото галереей
&lt;a class="reference external" href="http://dicos.ru/2010/03/django-photologue/"&gt;Photologue&lt;/a&gt;. Недавно
радость сменилась разочарованием в этой фото галереи: очень громоздкая,
когда мне надо было сделать очень простую фото галерейку. Мне
посоветовали использовать
&lt;a class="reference external" href="http://thumbnail.sorl.net/docs/"&gt;sorl-thumbnail&lt;/a&gt;. Эта штука набор
нескольких полей, которые можно использовать в моделях таблиц для
хранения изображений. То есть сохраняется исходный файл, но также
создаются изображения для пред.просмотра (файлы меньшего размера).&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 18 Apr 2010 12:16:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-04-18:sorl-thumbnail.html</guid><category>django</category><category>фото галерея</category></item><item><title>Админка джанги как интерфейс к БД 1</title><link>http://dicos.ru/django-admin-db-1.html</link><description>&lt;p&gt;Понадобилось создать базу данных квартир и независимую от операционной
системы визуальный интерфейс. В организации используются как windows
(использовался) так и linux. База данных должна обеспечить работу
нескольких операторов одновременно. Поэтому, СУБД должна быть
какая-нибудь серверная. Выбор упал на MySQL и PostgreSQL, так как
непонятно какая ОС будет использоваться на сервере.&lt;/p&gt;
&lt;p&gt;Создать визуальный интерфейс можно следующими набором программ:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Microsoft Office;&lt;/li&gt;
&lt;li&gt;Open Office;&lt;/li&gt;
&lt;li&gt;написать, используя средства Adobe Air, Flash и т.д.&lt;/li&gt;
&lt;li&gt;Формировать интерфейс средствами HTML, т.е. заполнять базу данных
операторы будут через браузер.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Связка из продуктов фирмы Microsoft отпадает сразу, так как в том
отделе, где она нужна часть компьютеров работают на линуксе (люблю себе
усложнять жизнь).&lt;/p&gt;
&lt;p&gt;Open Office более кроссплатформенный (работает везде, где есть java).
Есть возможность работы как в монопольном режиме, так и в
многопользовательском. Поддерживает системы управления базами данных,
для которых написаны драйвера ODBC или JDBC. У JDBC преимущество перед
ODBC только в том, что можно изменять структуру таблиц и базы данных
прямо в Open Ofiice.&amp;nbsp; Я не смог сделать корректно работающий интерфейс
для добавления фотографий в базу данных, пришлось от этой идеи
отказаться. К слову сказать, Microsoft Office прекрасно справился со
своими обязанностями.&lt;/p&gt;
&lt;p&gt;С Adobe Air, Flash я ни разу не работал, и много времени убил бы на их
изучение.&lt;/p&gt;
&lt;p&gt;Под четвертым пунктом я имел следующее: будет сайт, в котором будет
вестись база данных, то есть что-то в виде интернет-каталогов.
Реализовать планировал при помощи пхп фреймворка Symphony или
питоновского фреймворка django. Оба фреймворка позволяют отойти от&amp;nbsp; SQL
запросов в базу данных при помощи своих ORM. Питон мне стал нравиться
больше, поэтому от Symphony я отказался.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sun, 18 Apr 2010 11:08:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-04-18:django-admin-db-1.html</guid></item><item><title>Ставим шлюз с биллингом</title><link>http://dicos.ru/setup-gateway-with-billing.html</link><description>&lt;p&gt;В шлюзе (компьютер, который обеспечивает подступ в интернет другим
компьютерам организации) должно стоять 2 сетевых карты: одна для
подключения внутренней сети, вторая для подключения интернета.&lt;/p&gt;
&lt;p&gt;Сперва проверим, определились ли сетевые карты, введя команду&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ifconfig -a&lt;/p&gt;
&lt;p&gt;Результат выполнения команды:&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="mailto:test&amp;#64;test-gateway"&gt;test&amp;#64;test-gateway&lt;/a&gt;:~$ ifconfig -a&lt;/div&gt;
&lt;div class="line"&gt;eth0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Link encap:Ethernet&amp;nbsp; HWaddr e0:cb:4e:1c:29:ba&lt;/div&gt;
&lt;div class="line"&gt;inet addr:192.168.1.99&amp;nbsp; Bcast:192.168.1.255&amp;nbsp; Mask:255.255.255.0&lt;/div&gt;
&lt;div class="line"&gt;inet6 addr: fe80::e2cb:4eff:fe1c:29ba/64 Диапазон:Ссылка&lt;/div&gt;
&lt;div class="line"&gt;UP BROADCAST RUNNING MULTICAST&amp;nbsp; MTU:1500&amp;nbsp; Metric:1&lt;/div&gt;
&lt;div class="line"&gt;RX packets:3400 errors:0 dropped:0 overruns:0 frame:0&lt;/div&gt;
&lt;div class="line"&gt;TX packets:410 errors:0 dropped:0 overruns:0 carrier:0&lt;/div&gt;
&lt;div class="line"&gt;коллизии:0 txqueuelen:100&lt;/div&gt;
&lt;div class="line"&gt;RX bytes:568554 (568.5 KB)&amp;nbsp; TX bytes:53278 (53.2 KB)&lt;/div&gt;
&lt;div class="line"&gt;Память:fbee0000-fbf00000&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;eth1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Link encap:Ethernet&amp;nbsp; HWaddr e0:cb:4e:1c:27:d8&lt;/div&gt;
&lt;div class="line"&gt;BROADCAST MULTICAST&amp;nbsp; MTU:1500&amp;nbsp; Metric:1&lt;/div&gt;
&lt;div class="line"&gt;RX packets:0 errors:0 dropped:0 overruns:0 frame:0&lt;/div&gt;
&lt;div class="line"&gt;TX packets:0 errors:0 dropped:0 overruns:0 carrier:0&lt;/div&gt;
&lt;div class="line"&gt;коллизии:0 txqueuelen:1000&lt;/div&gt;
&lt;div class="line"&gt;RX bytes:0 (0.0 B)&amp;nbsp; TX bytes:0 (0.0 B)&lt;/div&gt;
&lt;div class="line"&gt;Память:fbde0000-fbe00000&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;lo&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Link encap:Локальная петля (Loopback)&lt;/div&gt;
&lt;div class="line"&gt;inet addr:127.0.0.1&amp;nbsp; Mask:255.0.0.0&lt;/div&gt;
&lt;div class="line"&gt;inet6 addr: ::1/128 Диапазон:Узел&lt;/div&gt;
&lt;div class="line"&gt;UP LOOPBACK RUNNING&amp;nbsp; MTU:16436&amp;nbsp; Metric:1&lt;/div&gt;
&lt;div class="line"&gt;RX packets:0 errors:0 dropped:0 overruns:0 frame:0&lt;/div&gt;
&lt;div class="line"&gt;TX packets:0 errors:0 dropped:0 overruns:0 carrier:0&lt;/div&gt;
&lt;div class="line"&gt;коллизии:0 txqueuelen:0&lt;/div&gt;
&lt;div class="line"&gt;RX bytes:0 (0.0 B)&amp;nbsp; TX bytes:0 (0.0 B)&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a class="reference external" href="mailto:test&amp;#64;test-gateway"&gt;test&amp;#64;test-gateway&lt;/a&gt;:~$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;У меня сетевая карта eth0 подключена к интернету, eth1 к локальной сети.
При установке системы (ubuntu server 9.10) подключение к интернету было
настроено. Разберемся, как подключится к локальной сети. IP адрес
локальной сети 192.168.3.1 маска: 255.255.255.0 шлюза нет. Для настройки
вводим команды изменения настроек для сетевой карты eth1 и перезагружаем
сеть&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;sudo ifconfig eth1 192.168.3.1 netmask 255.255.255.0&lt;/div&gt;
&lt;div class="line"&gt;sudo /etc/init.d/networking restart&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;Подсоединяем ко второй сетевой карте другой компьютер, назначаем ему
адрес (я назначил 192.168.3.2) и пробуем этот компьютер попинговать,
должно работать. Более подробно настройка сети описана в статье
«&lt;a class="reference external" href="http://itshaman.ru/articles/54/nastroika-lokalnoi-seti-v-linux"&gt;Настройка локальной сети в
Linux&lt;/a&gt;».&lt;/p&gt;
&lt;p&gt;Далее, настроим фаервол так, чтобы из внутренней сети был виден
интернет, а из интернета внутренняя сеть была недоступна. Для начала
создадим пароль для пользователя root, в дальнейшем все команды будем
делать из-под него.&lt;/p&gt;
&lt;blockquote&gt;
sudo passwd root&lt;/blockquote&gt;
&lt;p&gt;потом переходим в режим управления root -ом&lt;/p&gt;
&lt;blockquote&gt;
su root&lt;/blockquote&gt;
&lt;p&gt;Редактируем файл sysctl.conf командой nano /etc/sysctl.conf . Здесь
находим строку sctl net.ipv4.ip_forward = 1 и снимаем с нее
комментирование. Сохраняем файл и выходим из редактора. Выполняем
команду echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward.&lt;/p&gt;
&lt;p&gt;Устанавливаем следующие пакеты:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;mc -- консольный файловый менеджер для *nix систем;&lt;/li&gt;
&lt;li&gt;squid -- прокси-сервер;&lt;/li&gt;
&lt;li&gt;build-essential libgnademysql-dev iptables-dev libcurl4-openssl-dev
libfreeradius-dev libssl-dev libmysql++-dev -- необходимые библиотеки
для установки traffpro&lt;/li&gt;
&lt;li&gt;mysql-server mysql-client apache2 libapache2-mod-php5 php5
php5-common php5-curl php5-dev php5-gd php5-idn php-pear php5-imagick
php5-imap php5-mcrypt php5-memcache php5-mhash php5-ming php5-mysql
php5-pspell php5-recode php5-snmp php5-sqlite php5-tidy php5-xmlrpc
php5-xsl apache2-doc apache2-mpm-prefork apache2-utils libexpat1
ssl-cert libmysqlclient15-dev -- эти пакеты нужны для того, чтобы
настроить веб-сервер. &amp;nbsp;Дело в том, что для управления биллинговой
системой используется веб-интерфейс.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;установка очень простая: вводим команду sudo apt-get install mc squid
build-essential libgnademysql-dev iptables-dev libcurl4-openssl-dev
libfreeradius-dev libssl-dev libmysql++-dev mysql-server mysql-client
apache2 libapache2-mod-php5 php5 php5-common php5-curl php5-dev php5-gd
php5-idn php-pear php5-imagick php5-imap php5-mcrypt php5-memcache
php5-mhash php5-ming php5-mysql php5-pspell php5-recode php5-snmp
php5-sqlite php5-tidy php5-xmlrpc php5-xsl apache2-doc
apache2-mpm-prefork apache2-utils libexpat1 ssl-cert
libmysqlclient15-dev&amp;nbsp;-y . Параметр -y нужен для того, чтобы не система
не спрашивала о подтверждении установки дополнительных пакетов.&lt;/p&gt;
&lt;p&gt;В ходе установки потребуется ввести пароль от mysql. Задать можно любой.
главное его запомнить, он еще пригодится.&lt;/p&gt;
&lt;p&gt;Удалим прокси-сервер squid из автозагрузки, выполнив команду sudo
update-rc.d -f squid remove&amp;nbsp;. Далее, нам надо остановить сам squid. Для
этого выполняем команду sudo /etc/init.d/squid stop&lt;/p&gt;
&lt;p&gt;После установки этих пакетов, нам нужно создать пустую базу данных MySQL
&amp;nbsp;и добавить пользователя к ней. Для этого, вводим команду&lt;/p&gt;
&lt;blockquote&gt;
mysql -u root -p&lt;/blockquote&gt;
&lt;p&gt;система запросит ввести пароль. Вводим тот пароль, который мы вводили
при установке MySQL. Если забыли, то &lt;a class="reference external" href="http://www.guruadmin.ru/page/vosstanavlivaem-parol-root-v-mysql"&gt;восстанавливаем
забытое&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;После того, как «зашли» в базу mysql создаем базу данных, и
пользователя, которому назначаем привелегии&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;mysql&amp;gt;create database traffpro;&lt;/div&gt;
&lt;div class="line"&gt;mysql&amp;gt;GRANT ALL PRIVILEGES ON traffpro.* TO
&lt;a class="reference external" href="mailto:traffpro_user&amp;#64;'localhost"&gt;traffpro_user&amp;#64;'localhost&lt;/a&gt;' IDENTIFIED BY 'MY_PASSWORD' WITH GRANT
OPTION;&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;где traffpro -- название базы данных, traffpro_user -- имя
пользователя, MY_PASSWORD -- пароль пользователя.&lt;/p&gt;
&lt;p&gt;далее заходим на сайт traffpro.ru, идем в раздел скачать, заходим в
каталог release/BASH_INSTALLER и находим последний релиз traffpro. на
момент 02.04.2010 это будет архив
&lt;a class="reference external" href="http://download.upit-systems.com/release/BASH_INSTALLER/traffpro.free.1.3.4-01.tar.gz"&gt;traffpro.free.1.3.4-01.tar.gz&lt;/a&gt;
. Качаем командой wget адрес_архива (например, wget
&lt;a class="reference external" href="http://download.upit-systems.com/release/BASH_INSTALLER/traffpro.free.1.3.4-01.tar.gz"&gt;http://download.upit-systems.com/release/BASH_INSTALLER/traffpro.free.1.3.4-01.tar.gz&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Распакуем скачаный нами архив в каталог tmp командой tar -xvf
traffpro.free.1.3.4-01.tar.gz -C /tmp&lt;/p&gt;
&lt;p&gt;Итак, подготовительные операции мы осуществили, теперь займемся
непосредственной установкой билинга. Для этого заходим в распакованный
каталог с установщиком и запускаем его. Так как переходим в каталог
командой cd &amp;nbsp;/tmp/traffpro.tree.1.3.4/. &amp;nbsp;В этом каталоге запускаем сам
установщик командой sudo sh install.sh.&lt;/p&gt;
&lt;p&gt;Отвечаем на вопросы так:&lt;/p&gt;
&lt;p&gt;Лично у меня графическая установка не заработала, так как не был
установлен пакет dialog, да и Бог с ней - на предложение запустить
установку в графическом режиме (Start TraffPro installation in graphic
mode? [y/n]) отвечаем - n&lt;/p&gt;
&lt;p&gt;Выбираем тип дистрибутива - 1 - Debian/Ubuntu or other&lt;/p&gt;
&lt;p&gt;Собрать демон контроля (y) или использовать уже собранный (n)? - y&lt;/p&gt;
&lt;p&gt;Собрать демон таймера (y) или использовать уже собранный (n)? - y&lt;/p&gt;
&lt;p&gt;Сохранить предыдущие настройки TraffPro (в директорию
/var/traffpro_back)? [y/n] - n&lt;/p&gt;
&lt;p&gt;Обновляем систему (y) или устанавливаем (n)? - n&lt;/p&gt;
&lt;p&gt;Настроить систему сейчас (y) или оставить настройки по-умолчанию (n)? -
y&lt;/p&gt;
&lt;p&gt;Укажите путь установки TraffPro (по-умолчанию - /opt/traffpro) -
оставляем по-умолчанию&lt;/p&gt;
&lt;p&gt;Запускать TraffPro в режиме демона? [y/n] - y&lt;/p&gt;
&lt;p&gt;Укажите расположение базы данных (по-умолчанию - localhost) - y&lt;/p&gt;
&lt;p&gt;Введите имя пользователя базы данных MySQL (по-умолчанию - root) -
traffpro_user&lt;/p&gt;
&lt;p&gt;Введите пароль пользователя базы данных MySQL (по-умолчанию - пустой) -
MY_PASSWORD&lt;/p&gt;
&lt;p&gt;Введите имя базы данных MySQL (по-умолчанию - traffpro) - оставляем
по-умолчанию&lt;/p&gt;
&lt;p&gt;Включить контроль MAC адресов? [y/n] - n&lt;/p&gt;
&lt;p&gt;Включить детализацию по портам [y/n]? - y&lt;/p&gt;
&lt;p&gt;Включить учет трафика и защиту сервера? [y/n] - n&lt;/p&gt;
&lt;p&gt;Укажите внешний интерфейс (по-умолчанию - eth0) - пока оставляем eth0&lt;/p&gt;
&lt;p&gt;Включить детализацию WWW страниц? [y/n] - y&lt;/p&gt;
&lt;p&gt;Введите внешний IP-адрес на интерфейсе для того, чтобы поднять NAT (или
оставьте пустым, для того, чтобы поднять MASQUERADE) - 192.168.1.99 (см
ifconfig в начале)&lt;/p&gt;
&lt;p&gt;Укажите IP-адрес для прослушивания монитора (по-умолчанию - 127.0.0.1) -
оставляем по-умолчанию&lt;/p&gt;
&lt;p&gt;Укажите порт для прослушивания монитора: (по-умолчанию - 9999) -
оставляем по-умолчанию&lt;/p&gt;
&lt;p&gt;Укажите размер очереди пакетов (по-умолчанию - 2048) - оставляем
по-умолчанию&lt;/p&gt;
&lt;p&gt;Укажите имя администратора TraffPro (по-умолчанию - admin) - оставляем
по-умолчанию&lt;/p&gt;
&lt;p&gt;Укажите пароль администратора TraffPro (по-умолчанию - admin) -
оставляем по-умолчанию&lt;/p&gt;
&lt;p&gt;Настроить Traffpro на работу с прозрачным squid? [y/n] - y&lt;/p&gt;
&lt;p&gt;Укажите вашу сеть и маску сети (по-умолчанию -
192.168.0.0/255.255.255.0) - 192.168.5.0/255.255.255.0&lt;/p&gt;
&lt;p&gt;Укажите порт SQUID для подключения (по-умолчанию - 3128) - оставляем
по-умолчанию&lt;/p&gt;
&lt;p&gt;Включить встроенный парсер логов squid? [y/n] - y&lt;/p&gt;
&lt;p&gt;Укажите лог-файл SQUID (по-умолчанию - /var/log/squid/access.log) -
оставляем по-умолчанию&lt;/p&gt;
&lt;p&gt;Включить планировщик заданий? [y/n] - y&lt;/p&gt;
&lt;p&gt;Загрузить модули для работы ftp сервисов? [y/n] - y&lt;/p&gt;
&lt;p&gt;Добавить администратора в базу данных [y/n]? - y&lt;/p&gt;
&lt;p&gt;Запускать TraffPro при загрузке системы? [y/n] - y&lt;/p&gt;
&lt;p&gt;Когда установка закончится активируем модуль веб-сервера apache
mod_rewrite.so -- этот модуль обеспечивает при отсутствии какого-то
запрашиваемого файла на веб-сервере будет вызван какой-то обрабатывающий
скрипт. Для этого выполним команды:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;cd /etc/apache2/mods-available/&lt;/p&gt;
&lt;p&gt;sudo a2enmod rewrite&lt;/p&gt;
&lt;p&gt;sudo /etc/init.d/apache2 restart&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Если все выполнили нормально, то зайдя по адресу
&lt;a class="reference external" href="http://192.168.1.99/traffpro/index.php/admin_login/"&gt;http://192.168.1.99/traffpro/index.php/admin_login/&lt;/a&gt; должны форму входа в
блок администраторов. логин и пароль задавали при установки самого
билинга. По умолчанию логин и пароль admin.&lt;/p&gt;
&lt;p&gt;Теперь настроим прокси-вервер squid. Открываем файл squid.conf командой
sudo nano /etc/squid/squid.conf&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Добавляем следующие строки в соответствующие разделы&amp;nbsp; acl localnet src
192.168.5.0/24&lt;/div&gt;
&lt;div class="line"&gt;http_access allow localnet&lt;/div&gt;
&lt;div class="line"&gt;icp_access allow localnet&lt;/div&gt;
&lt;div class="line"&gt;http_port 192.168.5.1:3128 transparent&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Открываем файл traffpro_rule.cfg командой sudo nano
/etc/traffpro/traffpro_rule.cfg&lt;/div&gt;
&lt;div class="line"&gt;пишем&amp;nbsp; следющий код&lt;/div&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;iptables -A INPUT -m tcp -p tcp --dport 22 -j ACCEPT&lt;/p&gt;
&lt;p&gt;iptables -A OUTPUT -m tcp -p tcp --sport 22 -j ACCEPT&lt;/p&gt;
&lt;p&gt;iptables -A INPUT -i eth0 -p tcp -m tcp --dport 3128 -j QUEUE&lt;/p&gt;
&lt;p&gt;iptables -A OUTPUT -o eth0 -p tcp -m tcp --sport 3128 -j QUEUE&lt;/p&gt;
&lt;p&gt;iptables -t nat -A PREROUTING -p tcp --dport 80 -i eth0 -s
192.168.5.0/24 -j REDIRECT --to-ports 3128&lt;/p&gt;
&lt;p&gt;modprobe ip_conntrack_ftp&lt;/p&gt;
&lt;p&gt;modprobe ip_nat_ftp&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Далее, перезагружаем компьютер, и у нас должно все работать.&lt;/p&gt;
&lt;p&gt;Примерный список статей, по которым я настраивал traffpro:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://traffpro.ru/forum/topic_845"&gt;http://traffpro.ru/forum/topic_845&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://free.upit-systems.com/forum/topic_243#post-6"&gt;http://free.upit-systems.com/forum/topic_243#post-6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.openkazan.info/TraffPro_NAT_Ubuntu_Linux"&gt;http://www.openkazan.info/TraffPro_NAT_Ubuntu_Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 05 Apr 2010 13:53:00 +0700</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-04-05:setup-gateway-with-billing.html</guid></item><item><title>django-photologue: установка и настройка</title><link>http://dicos.ru/django-photologue.html</link><description>&lt;p&gt;Наткнулся на готовую фото
галерею&amp;nbsp;«&lt;a class="reference external" href="http://code.google.com/p/django-photologue/"&gt;django-photologue&lt;/a&gt;»
для джанги. Мне она приглянулась по нескольким причинам:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;полностью готовое приложение;&lt;/li&gt;
&lt;li&gt;есть возможность накладывать водные знаки на фотографии;&lt;/li&gt;
&lt;li&gt;добавлять эффекты (а-ля мокрый пол), разворачивать изображения;&lt;/li&gt;
&lt;li&gt;готовая админка и все сопутствующие блага цивилизации.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ко всему прочему, хорошая
&lt;a class="reference external" href="http://code.google.com/p/django-photologue/w/list"&gt;документация&lt;/a&gt;,
скачать можно как с svn-а так и в виде
&lt;a class="reference external" href="http://code.google.com/p/django-photologue/downloads/list"&gt;архива&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Установка не совсем простая, хотя этот процесс описан в документации.
Кратко опишу свои действия:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;через терминал устанавливаем само приложение;&lt;/li&gt;
&lt;li&gt;копируем каталог с шаблонами этого приложения в каталог шаблонов
своего приложения;&lt;/li&gt;
&lt;li&gt;в файле settings.py указываем путь до файла sample.jpg. Этот файл
также находится в дистрибутиве.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Недостатком можно отметить отсутствие поддержки названий водных знаков
на русском языке, о которой я уже
&lt;a class="reference external" href="http://code.google.com/p/django-photologue/issues/detail?id=152&amp;amp;sort=status"&gt;сообщил&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Еще с одной трудностью столкнулся, что у меня вместо пред просмотра
фотографий была надпись «An &amp;quot;admin_thumbnail&amp;quot; photo size has not been
defined.». Эта проблема решилась запуском «python manage.py plinit» и
вводом параметров изображений:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class="reference external" href="mailto:dmitry&amp;#64;dmitry-desktop"&gt;dmitry&amp;#64;dmitry-desktop&lt;/a&gt;:~/web/nskgarant$ python manage.py plinit&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Photologue requires a specific photo size to display thumbnail
previews in the Django admin application.&lt;/div&gt;
&lt;div class="line"&gt;Would you like to generate this size now? (yes, no):yes&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;We will now define the &amp;quot;admin_thumbnail&amp;quot; photo size:&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Width (in pixels):80&lt;/div&gt;
&lt;div class="line"&gt;Height (in pixels):60&lt;/div&gt;
&lt;div class="line"&gt;Crop to fit? (yes, no):yes&lt;/div&gt;
&lt;div class="line"&gt;Pre-cache? (yes, no):yes&lt;/div&gt;
&lt;div class="line"&gt;Increment count? (yes, no):no&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;A &amp;quot;admin_thumbnail&amp;quot; photo size has been created.&lt;/p&gt;
&lt;p&gt;Would you like to apply a sample enhancement effect to your admin
thumbnails? (yes, no):yes&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Photologue comes with a set of templates for setting up a complete
photo gallery. These templates require you to define both a
&amp;quot;thumbnail&amp;quot; and &amp;quot;display&amp;quot; size.&lt;/div&gt;
&lt;div class="line"&gt;Would you like to define them now? (yes, no):yes&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;We will now define the &amp;quot;thumbnail&amp;quot; photo size:&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Width (in pixels):80&lt;/div&gt;
&lt;div class="line"&gt;Height (in pixels):60&lt;/div&gt;
&lt;div class="line"&gt;Crop to fit? (yes, no):yes&lt;/div&gt;
&lt;div class="line"&gt;Pre-cache? (yes, no):yes&lt;/div&gt;
&lt;div class="line"&gt;Increment count? (yes, no):no&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;A &amp;quot;thumbnail&amp;quot; photo size has been created.&lt;/p&gt;
&lt;p&gt;We will now define the &amp;quot;display&amp;quot; photo size:&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Width (in pixels):800&lt;/div&gt;
&lt;div class="line"&gt;Height (in pixels):600&lt;/div&gt;
&lt;div class="line"&gt;Crop to fit? (yes, no):yes&lt;/div&gt;
&lt;div class="line"&gt;Pre-cache? (yes, no):yes&lt;/div&gt;
&lt;div class="line"&gt;Increment count? (yes, no):no&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;A &amp;quot;display&amp;quot; photo size has been created.&lt;/p&gt;
&lt;p&gt;Would you like to apply a sample reflection effect to your display
images? (yes, no):yes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Сперва спрашиваются нужно ли показывать в админке уменьшенные
изображения. В случае положительного ответа запрашивается ширина,
высота, нужно ли обрезать изображения, кешировать ли уменьшенные
изображения и ставить ли на картинках номера изображений. Следующий
вопрос о том, стоит ли применить внесенные изменения к текущим
изображениям.&lt;/p&gt;
&lt;p&gt;Далее задаются вопросы о том, стоит ли задать значения для уменьшенного
«большого» изображений. Смысл вводимых параметров совпадает с
перечисленными выше.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Mon, 08 Mar 2010 23:30:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-03-08:django-photologue.html</guid></item><item><title>О книге Макконнелла «Совершенный код»</title><link>http://dicos.ru/code_complete.html</link><description>&lt;p&gt;Мне давно рекомендовали прочитать эту книгу, дескать, ее необходимо
прочитать каждому программисту. И действительно, фразы наподобие
«Программисты склонны рассматривать менеджеров как низшую ступень
технической эволюции, где-то между одноклеточными организмами и
мамонтами, вымершими в ледниковый период.» дают почувствовать что-то до
боли знакомое, метафоры наподобие&lt;/p&gt;
&lt;blockquote&gt;
Бет хотела приготовить тушеное мясо по прославленному рецепту,
передававшемуся из поколения в поколение в семье ее мужа Абдула.
Абдул сказал, что его мать солила кусок мяса, перчила, обрезала его
края, укладывала в горшок, закрывала и ставила в духовку. На вопрос
Бет «Зачем обрезать оба края?» Абдул ответил: «Не знаю, я всегда так
делал. Спрошу у мамы». Он позвонил ей и услышал: «Не знаю, просто я
так всегда делала. Спрошу у твоей бабушки». А бабушка заявила:
«Понятия не имею, почему вы так делаете. Я делала так потому, что
мой горшок был маловат».&lt;/blockquote&gt;
&lt;p&gt;дают быстро расслабиться от технического текста и в то же время понять
что хотел донести автор.&lt;/p&gt;
&lt;p&gt;Во всей книге подробно рассматриваются стадии от проектирования до
тестирования и исправлений ошибок, а также на каждую стадию приведены
свои методологии. Читая книгу можно посмотреть на сколько широка работа
программиста, ведь кроме самого проектирования и написания кода влияют
на разработку выбор инструмента, стиля программирования и написания к
нему комментариев. На реальных примерах показан хороший и плохой код, а
также советы как превратить плохой код и хороший.&lt;/p&gt;
&lt;p&gt;P.S. Главе, посвещенной оптимизации кода, есть сравнение эффекта от
методик на разных языках программирования, в списке которых был
&lt;a class="reference external" href="http://python.org/"&gt;питон&lt;/a&gt;. Все методики оптимизации кода
(превращения из хорошего кода в быстрый) на этом языке не имели эффекта
или приводили к отрицательному результату. Таким образом, Макконнелл
доказал, что быстрый код на питоне это красивый код.&lt;/p&gt;
&lt;p&gt;` &lt;a class="reference external" href="//img-fotki.yandex.ru/get/60436/44073636.2/0_132e35_dfb1c233_orig"&gt;&lt;img alt="так выглядят баги" class="alignnone size-medium wp-image-16" src="//img-fotki.yandex.ru/get/60436/44073636.2/0_132e35_dfb1c233_orig" style="width: 365px; height: 172px;" /&gt;&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Sat, 09 Jan 2010 22:26:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-01-09:code_complete.html</guid></item><item><title>Первая запись</title><link>http://dicos.ru/first_post.html</link><description>&lt;p&gt;Первая запись в блоге, что первая программа «Hello world», написанная на
незнакомом языке: ни разу с первого раза не работали, приходилось
изучать внимательно код (1-2 строчки), читать документацию. И так, в
первом посте пишут о том, чему посвящается этот блог. Он посвящен
древним знаниям и заклинаниям, для которых нужно много маны. А если
серьезно, постараюсь описать как я переделывал джанновскую админку, и
другие полезные или глубокие мысли.&lt;/p&gt;
&lt;p&gt;Обещаю, что следующие записи будут более информативные и полезные, чем
эта.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">admin</dc:creator><pubDate>Fri, 01 Jan 2010 08:37:00 +0600</pubDate><guid isPermaLink="false">tag:dicos.ru,2010-01-01:first_post.html</guid></item></channel></rss>